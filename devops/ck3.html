<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- ‚îÄ‚îÄ PRIMARY SEO ‚îÄ‚îÄ -->
<title>CKA Study Guide 2026 | Kubernetes Administrator Exam Reference & Commands</title>
<meta name="description" content="The most comprehensive CKA exam study guide. 100+ kubectl commands, interactive YAML builder, practice questions, cluster upgrade walkthrough, etcd backup, RBAC, troubleshooting ‚Äî all in one tool. Pass the Certified Kubernetes Administrator exam.">
<meta name="keywords" content="CKA exam, Certified Kubernetes Administrator, CKA study guide, kubernetes commands, kubectl cheatsheet, CKA practice questions, kubernetes YAML, etcd backup, kubeadm upgrade, RBAC kubernetes, kubernetes troubleshooting, CKA 2026, kubernetes certification, kube-scheduler, kube-apiserver, kubernetes networking, NetworkPolicy, PersistentVolume, kubernetes pods">
<meta name="author" content="K8s Cert Guides">
<meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
<link rel="canonical" href="https://yourdomain.github.io/cka-reference/">

<!-- ‚îÄ‚îÄ OPEN GRAPH (Facebook / LinkedIn) ‚îÄ‚îÄ -->
<meta property="og:type" content="website">
<meta property="og:title" content="CKA Study Guide 2026 | Kubernetes Administrator Exam Reference">
<meta property="og:description" content="Free interactive CKA exam reference: 100+ kubectl commands, YAML builder, 17 practice questions, cluster upgrade steps, etcd backup & restore, RBAC, troubleshooting patterns. Pass the CKA exam.">
<meta property="og:url" content="https://yourdomain.github.io/cka-reference/">
<meta property="og:site_name" content="K8s Cert Guides">
<meta property="og:image" content="https://yourdomain.github.io/cka-reference/og-image.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta property="og:image:alt" content="CKA Kubernetes Administrator Study Guide">
<meta property="og:locale" content="en_US">

<!-- ‚îÄ‚îÄ TWITTER CARD ‚îÄ‚îÄ -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="CKA Study Guide 2026 | Kubernetes Administrator Exam Reference">
<meta name="twitter:description" content="Free interactive CKA exam reference: 100+ kubectl commands, YAML builder, practice questions, etcd backup, RBAC & more. Pass the CKA exam.">
<meta name="twitter:image" content="https://yourdomain.github.io/cka-reference/og-image.png">
<meta name="twitter:image:alt" content="CKA Kubernetes Study Guide">

<!-- ‚îÄ‚îÄ STRUCTURED DATA (JSON-LD) ‚îÄ‚îÄ -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "WebSite",
      "@id": "https://yourdomain.github.io/cka-reference/#website",
      "url": "https://yourdomain.github.io/cka-reference/",
      "name": "K8s Cert Guides",
      "description": "Interactive Kubernetes certification study guides",
      "publisher": { "@id": "https://yourdomain.github.io/cka-reference/#organization" }
    },
    {
      "@type": "Organization",
      "@id": "https://yourdomain.github.io/cka-reference/#organization",
      "name": "K8s Cert Guides",
      "url": "https://yourdomain.github.io/cka-reference/",
      "logo": {
        "@type": "ImageObject",
        "url": "https://yourdomain.github.io/cka-reference/logo.png",
        "width": 512,
        "height": 512
      }
    },
    {
      "@type": "WebPage",
      "@id": "https://yourdomain.github.io/cka-reference/#webpage",
      "url": "https://yourdomain.github.io/cka-reference/",
      "name": "CKA Study Guide 2026 ‚Äî Kubernetes Administrator Exam Reference",
      "isPartOf": { "@id": "https://yourdomain.github.io/cka-reference/#website" },
      "description": "Comprehensive CKA exam study tool with 100+ kubectl commands, interactive YAML builder, 17 practice questions, cluster upgrade walkthrough, etcd backup & restore, RBAC, troubleshooting patterns.",
      "inLanguage": "en-US",
      "datePublished": "2026-01-01",
      "dateModified": "2026-12-01"
    },
    {
      "@type": "Course",
      "name": "CKA (Certified Kubernetes Administrator) Exam Preparation",
      "description": "Complete interactive study guide for the CKA exam covering all 5 domains: Troubleshooting, Cluster Architecture, Services & Networking, Workloads & Scheduling, and Storage.",
      "provider": {
        "@type": "Organization",
        "name": "K8s Cert Guides",
        "sameAs": "https://yourdomain.github.io/cka-reference/"
      },
      "coursePrerequisites": "Basic Linux command line knowledge and familiarity with containers",
      "educationalLevel": "Intermediate to Advanced",
      "about": [
        { "@type": "Thing", "name": "Kubernetes" },
        { "@type": "Thing", "name": "Container Orchestration" },
        { "@type": "Thing", "name": "Cloud Native Computing" }
      ],
      "hasCourseInstance": {
        "@type": "CourseInstance",
        "courseMode": "online",
        "courseWorkload": "PT10H"
      }
    },
    {
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "What is the CKA exam?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The Certified Kubernetes Administrator (CKA) exam is a performance-based certification from the Linux Foundation and CNCF. It tests your ability to perform real Kubernetes administration tasks: troubleshooting (30%), cluster architecture & installation (25%), services & networking (20%), workloads & scheduling (15%), and storage (10%)."
          }
        },
        {
          "@type": "Question",
          "name": "What kubectl commands are most important for CKA?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The most critical CKA kubectl commands are: kubectl get pods/nodes/svc, kubectl describe pod, kubectl logs --previous, kubectl exec -it, kubectl apply -f, kubectl create --dry-run=client -o yaml, kubectl rollout undo, kubectl auth can-i, kubectl drain/cordon/uncordon, and etcdctl snapshot save for etcd backup."
          }
        },
        {
          "@type": "Question",
          "name": "How do I back up etcd for the CKA exam?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Use: ETCDCTL_API=3 etcdctl snapshot save /opt/backup.db --endpoints=https://127.0.0.1:2379 --cacert=/etc/kubernetes/pki/etcd/ca.crt --cert=/etc/kubernetes/pki/etcd/server.crt --key=/etc/kubernetes/pki/etcd/server.key. Then verify with etcdctl snapshot status."
          }
        },
        {
          "@type": "Question",
          "name": "How long is the CKA exam?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The CKA exam is 2 hours long with approximately 15-20 performance-based tasks. It is an open-book exam ‚Äî you may use kubernetes.io/docs, kubernetes.io/blog, and helm.sh/docs during the exam."
          }
        },
        {
          "@type": "Question",
          "name": "What is the passing score for the CKA exam?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The passing score for the CKA exam is 66%. The exam is performance-based, completed in a terminal environment. You get one free retake if you do not pass on the first attempt."
          }
        }
      ]
    }
  ]
}
</script>

<!-- ‚îÄ‚îÄ PERFORMANCE & THEME ‚îÄ‚îÄ -->
<meta name="theme-color" content="#2563eb">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<meta name="format-detection" content="telephone=no">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">

<!-- ‚îÄ‚îÄ HIDDEN SEO CONTENT (screen-reader + crawlers) ‚îÄ‚îÄ -->
<style>
.seo-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;}
</style>
<style>
*{margin:0;padding:0;box-sizing:border-box;}
:root{
  --bg:#f8fafc;--surface:#fff;--surface2:#f1f5f9;--border:#e2e8f0;--border2:#cbd5e1;
  --text:#0f172a;--text2:#475569;--text3:#94a3b8;
  --blue:#2563eb;--blue-l:#eff6ff;--blue-b:#bfdbfe;
  --purple:#7c3aed;--purple-l:#f5f3ff;--purple-b:#ddd6fe;
  --green:#16a34a;--green-l:#f0fdf4;--green-b:#bbf7d0;
  --orange:#ea580c;--orange-l:#fff7ed;--orange-b:#fed7aa;
  --red:#dc2626;--red-l:#fef2f2;--red-b:#fecaca;
  --teal:#0d9488;--teal-l:#f0fdfa;--teal-b:#99f6e4;
  --yellow:#ca8a04;--yellow-l:#fefce8;--yellow-b:#fef08a;
}
body{background:var(--bg);color:var(--text);font-family:'Inter',sans-serif;min-height:100vh;}

/* ‚îÄ‚îÄ SITE NAV ‚îÄ‚îÄ */
.site-nav{background:#0f172a;padding:0 24px;position:sticky;top:0;z-index:300;border-bottom:1px solid #1e293b;}
.site-nav-inner{max-width:1400px;margin:0 auto;display:flex;align-items:center;height:46px;gap:4px;}
.site-logo{color:#60a5fa;font-weight:800;font-size:14px;margin-right:auto;display:flex;align-items:center;gap:7px;text-decoration:none;}
.site-logo span{font-size:20px;}
.nav-item{position:relative;}
.nav-btn{color:#94a3b8;font-size:12px;font-weight:500;padding:6px 12px;border-radius:6px;transition:all .15s;display:flex;align-items:center;gap:5px;cursor:pointer;border:none;background:none;font-family:'Inter',sans-serif;}
.nav-btn:hover{background:#1e293b;color:#fff;}
.nav-btn.active-nav{background:#2563eb;color:#fff;}
.arr{font-size:9px;transition:transform .2s;}
.nav-item:hover .arr{transform:rotate(180deg);}
.dropdown{display:none;position:absolute;top:calc(100% + 4px);left:0;background:#1e293b;border:1px solid #334155;border-radius:10px;min-width:210px;box-shadow:0 8px 30px rgba(0,0,0,.4);overflow:hidden;z-index:400;}
.nav-item:hover .dropdown{display:block;animation:fadeUp .15s ease;}
.dd-head{font-size:9px;font-weight:700;letter-spacing:.12em;text-transform:uppercase;color:#475569;padding:10px 14px 4px;}
.dd-link{display:flex;align-items:center;gap:10px;padding:9px 14px;color:#cbd5e1;font-size:12px;font-weight:500;text-decoration:none;transition:all .12s;border:none;background:none;width:100%;cursor:pointer;font-family:'Inter',sans-serif;}
.dd-link:hover{background:#334155;color:#fff;}
.dd-link.current-page{background:rgba(37,99,235,.25);color:#60a5fa;}
.dd-icon{font-size:15px;width:22px;text-align:center;}
.dd-badge{margin-left:auto;font-size:9px;font-weight:600;padding:2px 6px;border-radius:4px;}
.badge-live{background:rgba(22,163,74,.2);color:#4ade80;border:1px solid rgba(22,163,74,.3);}
.badge-ext{background:rgba(37,99,235,.2);color:#60a5fa;border:1px solid rgba(37,99,235,.3);}
.dd-div{height:1px;background:#334155;margin:4px 0;}

/* ‚îÄ‚îÄ HEADER ‚îÄ‚îÄ */
.header{background:var(--surface);border-bottom:1px solid var(--border);padding:12px 24px;position:sticky;top:46px;z-index:200;display:flex;align-items:center;gap:14px;}
.header-logo{width:36px;height:36px;background:linear-gradient(135deg,#2563eb,#7c3aed);border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:18px;flex-shrink:0;}
.header-text h1{font-size:16px;font-weight:800;}
.header-text p{font-size:11px;color:var(--text3);margin-top:1px;}
.header-right{margin-left:auto;display:flex;align-items:center;gap:8px;}
.header-badge{background:var(--blue-l);border:1px solid var(--blue-b);color:var(--blue);font-size:11px;font-weight:600;padding:4px 12px;border-radius:20px;}
.exam-timer{background:#0f172a;color:#4ade80;font-family:'JetBrains Mono',monospace;font-size:13px;font-weight:600;padding:5px 14px;border-radius:8px;display:flex;align-items:center;gap:6px;cursor:pointer;transition:all .15s;}
.exam-timer:hover{background:#1e293b;}
.exam-timer.running{color:#f87171;}
.timer-dot{width:7px;height:7px;border-radius:50%;background:#4ade80;animation:pulse 1.5s infinite;}
.timer-dot.active{background:#f87171;}

/* ‚îÄ‚îÄ SEARCH ‚îÄ‚îÄ */
.search-bar{background:var(--surface);border-bottom:1px solid var(--border);padding:10px 24px;display:flex;gap:10px;align-items:center;}
.search-wrap{max-width:500px;position:relative;flex:1;}
.search-icon{position:absolute;left:11px;top:50%;transform:translateY(-50%);color:var(--text3);font-size:13px;}
.search-input{width:100%;padding:8px 12px 8px 34px;border:1px solid var(--border2);border-radius:8px;font-size:13px;font-family:'Inter',sans-serif;color:var(--text);background:var(--surface2);outline:none;transition:all .2s;}
.search-input:focus{border-color:var(--blue);background:var(--surface);box-shadow:0 0 0 3px rgba(37,99,235,.1);}
.search-input::placeholder{color:var(--text3);}
.search-stats{font-size:11px;color:var(--text3);white-space:nowrap;}

/* ‚îÄ‚îÄ TABS ‚îÄ‚îÄ */
.nav-tabs{background:var(--surface);border-bottom:1px solid var(--border);padding:0 24px;display:flex;gap:2px;overflow-x:auto;}
.tab{padding:10px 14px;font-size:12px;font-weight:500;color:var(--text2);cursor:pointer;border-bottom:2px solid transparent;white-space:nowrap;transition:all .15s;user-select:none;}
.tab:hover{color:var(--blue);}
.tab.active{color:var(--blue);border-bottom-color:var(--blue);font-weight:700;}

/* ‚îÄ‚îÄ LAYOUT ‚îÄ‚îÄ */
.main{max-width:1400px;margin:0 auto;padding:24px;}
.section{display:none;}
.section.active{display:block;}
.two-col{display:grid;grid-template-columns:1fr 1fr;gap:20px;}
.three-col{display:grid;grid-template-columns:1fr 1fr 1fr;gap:14px;}
@media(max-width:900px){.two-col,.three-col{grid-template-columns:1fr;}}

/* ‚îÄ‚îÄ CARDS ‚îÄ‚îÄ */
.card{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:18px;}
.card-title{font-size:14px;font-weight:700;margin-bottom:14px;display:flex;align-items:center;gap:8px;padding-bottom:10px;border-bottom:1px solid var(--border);}

/* ‚îÄ‚îÄ CMD CARDS ‚îÄ‚îÄ */
.cmd-card{background:var(--surface);border:1px solid var(--border);border-radius:10px;padding:13px 15px;cursor:pointer;transition:all .15s;margin-bottom:8px;}
.cmd-card:hover{border-color:var(--blue);box-shadow:0 2px 12px rgba(37,99,235,.08);transform:translateY(-1px);}
.cmd-card.expanded{border-color:var(--blue);box-shadow:0 4px 16px rgba(37,99,235,.1);}
.cmd-top{display:flex;align-items:flex-start;gap:10px;}
.cmd-label{flex:1;font-size:13px;font-weight:600;line-height:1.4;}
.cmd-tag{font-size:10px;font-weight:600;padding:2px 8px;border-radius:4px;flex-shrink:0;letter-spacing:.05em;text-transform:uppercase;}
.tag-get{background:var(--blue-l);color:var(--blue);}
.tag-create{background:var(--green-l);color:var(--green);}
.tag-delete{background:var(--red-l);color:var(--red);}
.tag-edit{background:var(--orange-l);color:var(--orange);}
.tag-debug{background:var(--purple-l);color:var(--purple);}
.tag-apply{background:var(--teal-l);color:var(--teal);}
.tag-config{background:var(--surface2);color:var(--text2);border:1px solid var(--border2);}
.tag-exam{background:var(--yellow-l);color:var(--yellow);border:1px solid var(--yellow-b);}
.expand-icon{font-size:11px;color:var(--text3);flex-shrink:0;margin-top:2px;transition:transform .2s;}
.cmd-card.expanded .expand-icon{transform:rotate(90deg);}
.cmd-code{margin-top:8px;background:#0f172a;border-radius:6px;padding:10px 40px 10px 12px;font-family:'JetBrains Mono',monospace;font-size:11.5px;color:#e2e8f0;line-height:1.6;position:relative;overflow-x:auto;white-space:pre;}
.copy-btn{position:absolute;top:7px;right:8px;background:rgba(255,255,255,.1);border:none;border-radius:4px;padding:3px 8px;font-size:10px;color:#94a3b8;cursor:pointer;font-family:'Inter',sans-serif;transition:all .15s;}
.copy-btn:hover{background:rgba(255,255,255,.2);color:#fff;}
.copy-btn.copied{color:#4ade80;}
.cmd-detail{display:none;margin-top:10px;padding-top:10px;border-top:1px solid var(--border);}
.cmd-card.expanded .cmd-detail{display:block;}
.cmd-desc{font-size:12px;color:var(--text2);line-height:1.6;margin-bottom:10px;}
.cmd-flags{display:flex;flex-wrap:wrap;gap:6px;}
.flag{background:var(--surface2);border:1px solid var(--border);border-radius:4px;padding:3px 8px;font-size:10px;font-family:'JetBrains Mono',monospace;color:var(--text2);}
.flag strong{color:var(--blue);font-weight:600;}

/* ‚îÄ‚îÄ TIPS ‚îÄ‚îÄ */
.tip-box{border-radius:10px;padding:12px 16px;display:flex;gap:10px;margin-bottom:16px;}
.tip-blue{background:var(--blue-l);border:1px solid var(--blue-b);}
.tip-yellow{background:var(--yellow-l);border:1px solid var(--yellow-b);}
.tip-green{background:var(--green-l);border:1px solid var(--green-b);}
.tip-red{background:var(--red-l);border:1px solid var(--red-b);}
.tip-icon{font-size:15px;flex-shrink:0;}
.tip-text{font-size:12px;line-height:1.6;}
.tip-blue .tip-text{color:#1e40af;}
.tip-yellow .tip-text{color:#713f12;}
.tip-green .tip-text{color:#14532d;}
.tip-red .tip-text{color:#7f1d1d;}
.tip-text strong{font-weight:700;}

/* ‚îÄ‚îÄ SECTION HEADER ‚îÄ‚îÄ */
.sec-head{margin-bottom:20px;}
.sec-title{font-size:20px;font-weight:800;margin-bottom:4px;}
.sec-desc{font-size:13px;color:var(--text2);}

/* ‚îÄ‚îÄ CATEGORY ‚îÄ‚îÄ */
.category{margin-bottom:24px;}
.cat-header{display:flex;align-items:center;gap:10px;margin-bottom:12px;padding-bottom:8px;border-bottom:2px solid var(--border);}
.cat-icon{width:28px;height:28px;border-radius:7px;display:flex;align-items:center;justify-content:center;font-size:14px;flex-shrink:0;}
.cat-name{font-size:14px;font-weight:700;}
.cat-count{margin-left:auto;font-size:11px;color:var(--text3);}

/* ‚îÄ‚îÄ TABLES ‚îÄ‚îÄ */
.ref-table{width:100%;border-collapse:collapse;font-size:12px;background:var(--surface);border-radius:10px;overflow:hidden;border:1px solid var(--border);margin-bottom:16px;}
.ref-table th{background:var(--surface2);padding:9px 14px;text-align:left;font-size:11px;font-weight:700;color:var(--text2);letter-spacing:.05em;text-transform:uppercase;border-bottom:1px solid var(--border);}
.ref-table td{padding:8px 14px;border-bottom:1px solid var(--border);vertical-align:top;}
.ref-table tr:last-child td{border-bottom:none;}
.ref-table tr:hover td{background:var(--surface2);}
.ref-table td:first-child{font-family:'JetBrains Mono',monospace;font-size:11px;color:var(--blue);white-space:nowrap;}

/* ‚îÄ‚îÄ ARCHITECTURE ‚îÄ‚îÄ */
.arch-wrapper{background:var(--surface);border:1px solid var(--border);border-radius:14px;padding:20px;margin-bottom:20px;}
.cluster-box{border:2px dashed #cbd5e1;border-radius:12px;padding:16px;position:relative;background:#fafbff;}
.cluster-label{position:absolute;top:-11px;left:16px;background:var(--surface);padding:0 8px;font-size:11px;font-weight:700;color:var(--text3);letter-spacing:.08em;text-transform:uppercase;}
.planes-row{display:grid;grid-template-columns:1fr 1fr;gap:14px;margin-bottom:14px;}
@media(max-width:780px){.planes-row{grid-template-columns:1fr;}}
.plane-box{border-radius:10px;padding:14px;}
.plane-control{background:#faf5ff;border:1.5px solid #ddd6fe;}
.plane-data{background:#eff6ff;border:1.5px solid #bfdbfe;}
.plane-title{font-size:11px;font-weight:700;letter-spacing:.1em;text-transform:uppercase;margin-bottom:10px;display:flex;align-items:center;gap:6px;}
.pdot{width:7px;height:7px;border-radius:50%;}
.pdot-purple{background:var(--purple);}
.pdot-blue{background:var(--blue);}
.plane-control .plane-title{color:var(--purple);}
.plane-data .plane-title{color:var(--blue);}
.arch-comps{display:grid;grid-template-columns:1fr 1fr;gap:8px;}
.arch-comp{background:var(--surface);border:1px solid var(--border);border-radius:8px;padding:10px 12px;cursor:pointer;transition:all .15s;display:flex;gap:9px;align-items:flex-start;}
.arch-comp:hover{border-color:var(--blue);box-shadow:0 2px 10px rgba(37,99,235,.1);transform:translateY(-1px);}
.arch-comp.active-comp{border-color:var(--blue);background:var(--blue-l);}
.arch-comp-icon{font-size:17px;flex-shrink:0;margin-top:1px;}
.arch-comp-name{font-size:12px;font-weight:700;}
.arch-comp-desc{font-size:10px;color:var(--text2);margin-top:2px;line-height:1.4;}
.workers-row{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;}
.worker-node{background:var(--surface);border:1.5px solid #bbf7d0;border-radius:10px;padding:12px;transition:all .15s;cursor:pointer;}
.worker-node:hover{border-color:var(--green);box-shadow:0 2px 10px rgba(22,163,74,.12);transform:translateY(-1px);}
.worker-title{font-size:10px;font-weight:700;color:var(--green);text-transform:uppercase;letter-spacing:.08em;margin-bottom:8px;}
.pods-row{display:flex;flex-wrap:wrap;gap:4px;margin-bottom:8px;}
.pod-chip{background:#dcfce7;border:1px solid #86efac;border-radius:4px;padding:2px 7px;font-size:9px;color:var(--green);font-family:'JetBrains Mono',monospace;}
.node-agents{display:flex;flex-direction:column;gap:3px;}
.node-agent{font-size:9px;color:var(--text3);display:flex;align-items:center;gap:5px;}
.node-agent::before{content:'';width:4px;height:4px;border-radius:50%;background:var(--blue);flex-shrink:0;}
.detail-panel{margin-top:14px;border:1px solid var(--blue-b);border-radius:10px;background:var(--blue-l);padding:16px 18px;animation:fadeUp .2s ease both;}
.dp-header{display:flex;align-items:center;gap:10px;margin-bottom:10px;}
.dp-icon{font-size:24px;}
.dp-name{font-size:15px;font-weight:800;}
.dp-badge{font-size:10px;font-weight:600;padding:2px 9px;border-radius:20px;}
.dp-ctrl{background:var(--purple-l);color:var(--purple);border:1px solid var(--purple-b);}
.dp-data{background:var(--blue-l);color:var(--blue);border:1px solid var(--blue-b);}
.dp-desc{font-size:12px;color:var(--text2);line-height:1.7;margin-bottom:12px;}
.dp-facts{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:8px;}
.dp-fact{background:var(--surface);border-radius:7px;padding:10px 12px;border-left:3px solid var(--blue);}
.dp-fact-label{font-size:9px;text-transform:uppercase;letter-spacing:.12em;color:var(--text3);margin-bottom:3px;font-weight:600;}
.dp-fact-val{font-size:11px;color:var(--text);line-height:1.5;}
.dp-close{margin-left:auto;background:none;border:none;font-size:16px;cursor:pointer;color:var(--text3);padding:2px 6px;border-radius:4px;}
.dp-close:hover{background:var(--border);}

/* ‚îÄ‚îÄ FLOW ‚îÄ‚îÄ */
.flow-steps{display:flex;flex-direction:column;gap:0;position:relative;}
.flow-steps::before{content:'';position:absolute;left:17px;top:18px;bottom:18px;width:2px;background:linear-gradient(to bottom,var(--purple),var(--blue),var(--green));opacity:.3;}
.flow-step{display:flex;gap:14px;align-items:flex-start;padding:12px 0;}
.step-num{width:34px;height:34px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;flex-shrink:0;position:relative;z-index:1;}
.sn1{background:#f5f3ff;border:1.5px solid var(--purple);color:var(--purple);}
.sn2{background:var(--blue-l);border:1.5px solid var(--blue);color:var(--blue);}
.sn3{background:var(--blue-l);border:1.5px solid var(--blue);color:var(--blue);}
.sn4{background:var(--green-l);border:1.5px solid var(--green);color:var(--green);}
.sn5{background:var(--green-l);border:1.5px solid var(--green);color:var(--green);}
.sn6{background:var(--orange-l);border:1.5px solid var(--orange);color:var(--orange);}
.step-title{font-size:13px;font-weight:700;margin-bottom:3px;}
.step-desc{font-size:11px;color:var(--text2);line-height:1.6;}
.step-code{display:inline-block;background:#0f172a;color:#7dd3fc;border-radius:4px;padding:2px 8px;font-size:10px;font-family:'JetBrains Mono',monospace;margin-top:5px;}

/* ‚îÄ‚îÄ YAML BUILDER ‚îÄ‚îÄ */
.yaml-builder{display:grid;grid-template-columns:280px 1fr;gap:0;border:1px solid var(--border);border-radius:12px;overflow:hidden;background:var(--surface);}
@media(max-width:800px){.yaml-builder{grid-template-columns:1fr;}}
.yaml-sidebar{background:var(--surface2);border-right:1px solid var(--border);padding:16px;}
.yaml-sidebar-title{font-size:12px;font-weight:700;color:var(--text2);text-transform:uppercase;letter-spacing:.08em;margin-bottom:12px;}
.yaml-template-btn{display:block;width:100%;text-align:left;padding:9px 12px;border-radius:7px;border:1px solid transparent;background:none;cursor:pointer;font-family:'Inter',sans-serif;font-size:12px;color:var(--text);transition:all .15s;margin-bottom:4px;}
.yaml-template-btn:hover{background:var(--surface);border-color:var(--border);}
.yaml-template-btn.active-tpl{background:var(--blue-l);border-color:var(--blue-b);color:var(--blue);font-weight:600;}
.yaml-template-btn .tpl-icon{margin-right:7px;}
.yaml-main{display:flex;flex-direction:column;}
.yaml-toolbar{display:flex;align-items:center;gap:8px;padding:10px 14px;border-bottom:1px solid var(--border);background:var(--surface2);}
.yaml-toolbar-title{font-size:12px;font-weight:700;color:var(--text2);}
.yaml-field-row{display:flex;align-items:center;gap:8px;margin-bottom:8px;}
.yaml-field-label{font-size:11px;font-weight:600;color:var(--text2);width:110px;flex-shrink:0;}
.yaml-field-input{flex:1;padding:6px 10px;border:1px solid var(--border2);border-radius:6px;font-size:12px;font-family:'Inter',sans-serif;outline:none;transition:all .2s;}
.yaml-field-input:focus{border-color:var(--blue);box-shadow:0 0 0 2px rgba(37,99,235,.1);}
.yaml-fields{padding:14px;}
.yaml-output-header{display:flex;align-items:center;justify-content:space-between;padding:10px 14px;border-top:1px solid var(--border);background:var(--surface2);}
.yaml-output-label{font-size:11px;font-weight:700;color:var(--text2);text-transform:uppercase;letter-spacing:.08em;}
.yaml-output{background:#0f172a;color:#e2e8f0;font-family:'JetBrains Mono',monospace;font-size:11px;line-height:1.8;padding:16px;overflow-x:auto;white-space:pre;min-height:220px;flex:1;}
.btn{padding:6px 14px;border-radius:6px;font-size:12px;font-weight:600;cursor:pointer;transition:all .15s;border:none;font-family:'Inter',sans-serif;}
.btn-primary{background:var(--blue);color:#fff;}
.btn-primary:hover{background:#1d4ed8;}
.btn-sm{padding:4px 10px;font-size:11px;}
.btn-ghost{background:var(--surface2);color:var(--text2);border:1px solid var(--border);}
.btn-ghost:hover{background:var(--border);color:var(--text);}

/* ‚îÄ‚îÄ PRACTICE QUESTIONS ‚îÄ‚îÄ */
.quiz-progress{display:flex;align-items:center;gap:14px;margin-bottom:20px;background:var(--surface);border:1px solid var(--border);border-radius:10px;padding:14px 18px;}
.quiz-progress-bar{flex:1;height:8px;background:var(--surface2);border-radius:4px;overflow:hidden;}
.quiz-progress-fill{height:100%;background:linear-gradient(90deg,var(--blue),var(--purple));border-radius:4px;transition:width .4s ease;}
.quiz-score{font-size:13px;font-weight:700;color:var(--text);}
.quiz-score span{color:var(--green);}
.question-card{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:20px;margin-bottom:16px;}
.q-meta{display:flex;align-items:center;gap:8px;margin-bottom:12px;}
.q-num{font-size:11px;font-weight:700;color:var(--text3);}
.q-domain{font-size:10px;font-weight:600;padding:2px 8px;border-radius:4px;}
.q-hard{background:var(--red-l);color:var(--red);}
.q-med{background:var(--orange-l);color:var(--orange);}
.q-easy{background:var(--green-l);color:var(--green);}
.q-weight{font-size:10px;color:var(--text3);margin-left:auto;}
.q-text{font-size:14px;font-weight:600;color:var(--text);margin-bottom:14px;line-height:1.5;}
.q-scenario{background:var(--surface2);border-radius:8px;padding:12px;font-size:12px;color:var(--text2);margin-bottom:14px;border-left:3px solid var(--blue);font-family:'JetBrains Mono',monospace;line-height:1.7;}
.q-options{display:flex;flex-direction:column;gap:8px;}
.q-option{padding:10px 14px;border:1.5px solid var(--border);border-radius:8px;cursor:pointer;font-size:13px;transition:all .15s;background:var(--surface);text-align:left;font-family:'Inter',sans-serif;color:var(--text);}
.q-option:hover{border-color:var(--blue);background:var(--blue-l);}
.q-option.correct{border-color:var(--green);background:var(--green-l);color:var(--green);}
.q-option.wrong{border-color:var(--red);background:var(--red-l);color:var(--red);}
.q-option.reveal{border-color:var(--green);background:var(--green-l);color:var(--green);}
.q-option:disabled{cursor:default;}
.q-explanation{margin-top:14px;background:var(--surface2);border-radius:8px;padding:14px;display:none;}
.q-explanation.show{display:block;}
.q-exp-title{font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:.08em;color:var(--text3);margin-bottom:6px;}
.q-exp-text{font-size:12px;color:var(--text2);line-height:1.7;}
.q-exp-cmd{display:block;margin-top:8px;background:#0f172a;color:#7dd3fc;border-radius:6px;padding:8px 12px;font-family:'JetBrains Mono',monospace;font-size:11px;}

/* ‚îÄ‚îÄ PLAYGROUND / TOOLS ‚îÄ‚îÄ */
.tools-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:14px;}
.tool-card{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:18px;transition:all .2s;text-decoration:none;color:inherit;display:flex;flex-direction:column;}
.tool-card:hover{border-color:var(--blue);box-shadow:0 4px 20px rgba(37,99,235,.1);transform:translateY(-2px);}
.tool-header{display:flex;align-items:flex-start;gap:12px;margin-bottom:12px;}
.tool-logo{width:44px;height:44px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:22px;flex-shrink:0;}
.tool-name{font-size:14px;font-weight:700;color:var(--text);}
.tool-tag{font-size:10px;font-weight:600;padding:2px 7px;border-radius:4px;margin-top:3px;display:inline-block;}
.tool-free{background:var(--green-l);color:var(--green);}
.tool-paid{background:var(--orange-l);color:var(--orange);}
.tool-freemium{background:var(--blue-l);color:var(--blue);}
.tool-desc{font-size:12px;color:var(--text2);line-height:1.6;flex:1;margin-bottom:14px;}
.tool-features{display:flex;flex-wrap:wrap;gap:5px;margin-bottom:14px;}
.tool-feature{background:var(--surface2);border:1px solid var(--border);border-radius:4px;padding:2px 8px;font-size:10px;color:var(--text2);}
.tool-cta{display:flex;align-items:center;justify-content:space-between;}
.tool-link{font-size:12px;font-weight:600;color:var(--blue);text-decoration:none;display:flex;align-items:center;gap:5px;}
.tool-link:hover{text-decoration:underline;}
.tool-rating{font-size:11px;color:var(--yellow);letter-spacing:1px;}

/* ‚îÄ‚îÄ UPGRADE ‚îÄ‚îÄ */
.upgrade-steps{display:flex;flex-direction:column;gap:16px;}
.upgrade-step{background:var(--surface);border:1px solid var(--border);border-radius:10px;overflow:hidden;}
.upgrade-step-header{padding:12px 16px;display:flex;align-items:center;gap:12px;cursor:pointer;user-select:none;}
.upgrade-step-header:hover{background:var(--surface2);}
.upgrade-step-num{width:28px;height:28px;border-radius:50%;background:var(--blue-l);border:1.5px solid var(--blue-b);color:var(--blue);font-size:12px;font-weight:700;display:flex;align-items:center;justify-content:center;flex-shrink:0;}
.upgrade-step-title{font-size:13px;font-weight:700;flex:1;}
.upgrade-step-badge{font-size:10px;font-weight:600;padding:2px 8px;border-radius:4px;background:var(--surface2);color:var(--text2);border:1px solid var(--border);}
.upgrade-step-arrow{font-size:11px;color:var(--text3);transition:transform .2s;}
.upgrade-step.open .upgrade-step-arrow{transform:rotate(90deg);}
.upgrade-step-body{display:none;padding:0 16px 16px;}
.upgrade-step.open .upgrade-step-body{display:block;}

/* ‚îÄ‚îÄ SEARCH EMPTY ‚îÄ‚îÄ */
.search-empty{text-align:center;padding:60px 20px;color:var(--text3);font-size:14px;display:none;}

/* ‚îÄ‚îÄ HIGHLIGHTS ‚îÄ‚îÄ */
.hl-flag{color:#f59e0b;}
.hl-val{color:#10b981;}
.hl-comment{color:#64748b;font-style:italic;}
.hl-cmd{color:#60a5fa;}
.hl-key{color:#c084fc;}
.hl-str{color:#86efac;}

/* ‚îÄ‚îÄ EXAM CLOCK ‚îÄ‚îÄ */
.timer-modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.5);z-index:500;align-items:center;justify-content:center;}
.timer-modal.show{display:flex;}
.timer-box{background:var(--surface);border-radius:16px;padding:32px;text-align:center;min-width:280px;box-shadow:0 20px 60px rgba(0,0,0,.3);}
.timer-display{font-family:'JetBrains Mono',monospace;font-size:48px;font-weight:700;color:var(--text);margin:16px 0;}
.timer-display.warning{color:var(--orange);}
.timer-display.critical{color:var(--red);}
.timer-label{font-size:12px;color:var(--text3);margin-bottom:8px;}
.timer-controls{display:flex;gap:10px;justify-content:center;margin-top:16px;}

@keyframes fadeUp{from{opacity:0;transform:translateY(8px);}to{opacity:1;transform:translateY(0);}}
@keyframes pulse{0%,100%{opacity:1;}50%{opacity:.4;}}
::-webkit-scrollbar{width:5px;height:5px;}
::-webkit-scrollbar-track{background:var(--bg);}
::-webkit-scrollbar-thumb{background:var(--border2);border-radius:3px;}
</style>
</head>
<body>

<!-- ‚îÄ‚îÄ SEO HIDDEN CONTENT (indexed by crawlers, hidden from UI) ‚îÄ‚îÄ -->
<div class="seo-only" aria-hidden="true">
  <h1>CKA Exam Study Guide 2026 ‚Äî Certified Kubernetes Administrator Reference</h1>
  <h2>Complete kubectl Command Reference for CKA</h2>
  <p>Free interactive CKA exam preparation tool covering all five exam domains: Troubleshooting (30%), Cluster Architecture Installation and Configuration (25%), Services and Networking (20%), Workloads and Scheduling (15%), Storage (10%). Includes 100+ kubectl commands, interactive YAML builder, 17 exam-style practice questions, cluster upgrade walkthrough, etcd backup and restore, RBAC configuration, and Kubernetes troubleshooting patterns.</p>
  <h2>CKA Exam Domains and kubectl Commands</h2>
  <ul>
    <li>kubectl get pods, kubectl describe pod, kubectl logs, kubectl exec ‚Äî Pod inspection and debugging</li>
    <li>kubectl create deployment, kubectl scale, kubectl rollout undo ‚Äî Deployment management</li>
    <li>kubectl expose, kubectl get endpoints, kubectl port-forward ‚Äî Services and networking</li>
    <li>kubectl create role, kubectl create rolebinding, kubectl auth can-i ‚Äî RBAC configuration</li>
    <li>kubectl drain, kubectl cordon, kubectl uncordon ‚Äî Node management</li>
    <li>etcdctl snapshot save, etcdctl snapshot restore ‚Äî etcd backup and restore</li>
    <li>kubeadm upgrade apply, kubeadm upgrade node ‚Äî Cluster upgrade</li>
    <li>kubectl get pv, kubectl get pvc, PersistentVolume, StorageClass ‚Äî Kubernetes storage</li>
    <li>NetworkPolicy, Ingress, CoreDNS ‚Äî Kubernetes networking</li>
    <li>kubectl create configmap, kubectl create secret ‚Äî Configuration management</li>
  </ul>
  <h2>CKA Exam Tips and Tricks</h2>
  <p>Use --dry-run=client -o yaml to generate YAML manifests. Set aliases at exam start: alias k=kubectl. Use kubectl explain to look up API fields. Always switch context with kubectl config use-context before each question. Allowed docs: kubernetes.io/docs, kubernetes.io/blog, helm.sh/docs.</p>
  <h2>Kubernetes Architecture Components</h2>
  <p>kube-apiserver, etcd, kube-scheduler, kube-controller-manager, cloud-controller-manager, kubelet, kube-proxy, container runtime, CNI plugin, CRI, containerd, CRI-O, Calico, Cilium, Flannel.</p>
  <h2>CKA Practice Questions</h2>
  <p>Scenario-based CKA practice questions covering CrashLoopBackOff, OOMKilled, ImagePullBackOff, Pending pods, NotReady nodes, broken static pods, DNS failures, empty endpoints, etcd restore, cluster upgrade, RBAC permissions, NetworkPolicy, PVC binding, and more.</p>
</div>

<!-- SITE NAV -->
<nav class="site-nav">
  <div class="site-nav-inner">
    <a class="site-logo" href="index.html"><span>‚éà</span> K8s Cert Guides</a>
    <div class="nav-item">
      <button class="nav-btn active-nav">üìö Guides <span class="arr">‚ñæ</span></button>
      <div class="dropdown">
        <div class="dd-head">Certification Tracks</div>
        <a class="dd-link current-page" href="index.html"><span class="dd-icon">üèóÔ∏è</span>CKA Reference<span class="dd-badge badge-live">Live</span></a>
        <div class="dd-div"></div>
        <div class="dd-head">Coming Soon</div>
        <a class="dd-link" href="ck2.html"><span class="dd-icon">üöÄ</span>K8s Architecture<span class="dd-badge" style="background:var(--surface2);color:var(--text3);border:1px solid #334155;">Soon</span></a>
        <a class="dd-link" href="ck1.html"><span class="dd-icon">üîê</span>CKS Reference<span class="dd-badge" style="background:var(--surface2);color:var(--text3);border:1px solid #334155;">Soon</span></a>
        <a class="dd-link" href="helm.html"><span class="dd-icon">‚õµ</span>Helm Cheatsheet<span class="dd-badge" style="background:var(--surface2);color:var(--text3);border:1px solid #334155;">Soon</span></a>
      </div>
    </div>
    <div class="nav-item">
      <button class="nav-btn">üîó Resources <span class="arr">‚ñæ</span></button>
      <div class="dropdown">
        <div class="dd-head">Playgrounds</div>
        <a class="dd-link" href="https://killercoda.com/killer-shell-cka" target="_blank"><span class="dd-icon">üéØ</span>KillerCoda CKA Labs<span class="dd-badge badge-ext">‚Üó</span></a>
        <a class="dd-link" href="https://labs.play-with-k8s.com" target="_blank"><span class="dd-icon">üß™</span>Play with K8s<span class="dd-badge badge-ext">‚Üó</span></a>
        <div class="dd-div"></div>
        <div class="dd-head">Official Docs</div>
        <a class="dd-link" href="https://kubernetes.io/docs" target="_blank"><span class="dd-icon">üìñ</span>K8s Docs<span class="dd-badge badge-ext">‚Üó</span></a>
        <a class="dd-link" href="https://github.com/cncf/curriculum" target="_blank"><span class="dd-icon">üìã</span>CKA Curriculum<span class="dd-badge badge-ext">‚Üó</span></a>
        <div class="dd-div"></div>
        <div class="dd-head">Practice</div>
        <a class="dd-link" href="https://killer.sh" target="_blank"><span class="dd-icon">üíÄ</span>killer.sh Simulator<span class="dd-badge badge-ext">‚Üó</span></a>
      </div>
    </div>
    <div class="nav-item" style="margin-left:auto;">
      <div class="exam-timer" id="timerBtn" onclick="openTimer()">
        <span class="timer-dot" id="timerDot"></span>
        <span id="timerDisplay">2:00:00</span> Exam Timer
      </div>
    </div>
  </div>
</nav>

<!-- HEADER -->
<div class="header">
  <div class="header-logo">‚éà</div>
  <div class="header-text">
    <h1>CKA Master Reference</h1>
    <p>Certified Kubernetes Administrator ‚Äî Complete Study & Exam Tool</p>
  </div>
  <div class="header-right">
    <div class="header-badge">CKA 2026</div>
  </div>
</div>

<!-- SEARCH -->
<div class="search-bar">
  <div class="search-wrap">
    <span class="search-icon">üîç</span>
    <input class="search-input" id="searchInput" placeholder="Search commands, concepts, YAML‚Ä¶" oninput="filterAll(this.value)">
  </div>
  <div class="search-stats" id="searchStats"></div>
</div>

<!-- TABS -->
<div class="nav-tabs">
  <div class="tab active" onclick="showTab('overview',this)">üèóÔ∏è Architecture</div>
  <div class="tab" onclick="showTab('pods',this)">üü¢ Pods</div>
  <div class="tab" onclick="showTab('workloads',this)">üöÄ Workloads</div>
  <div class="tab" onclick="showTab('services',this)">üîÄ Services & Net</div>
  <div class="tab" onclick="showTab('storage',this)">üíæ Storage</div>
  <div class="tab" onclick="showTab('config',this)">‚öôÔ∏è Config & Secrets</div>
  <div class="tab" onclick="showTab('rbac',this)">üîê RBAC</div>
  <div class="tab" onclick="showTab('nodes',this)">üñ•Ô∏è Nodes & Cluster</div>
  <div class="tab" onclick="showTab('upgrade',this)">‚¨ÜÔ∏è Upgrade</div>
  <div class="tab" onclick="showTab('troubleshoot',this)">üîß Troubleshoot</div>
  <div class="tab" onclick="showTab('yaml',this)">üìù YAML Builder</div>
  <div class="tab" onclick="showTab('quiz',this)">üéØ Practice Q&A</div>
  <div class="tab" onclick="showTab('tools',this)">üß™ Playgrounds</div>
  <div class="tab" onclick="showTab('quickref',this)">‚ö° Quick Ref</div>
</div>

<div class="main">

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê ARCHITECTURE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="section active" id="sec-overview">
  <div class="sec-head"><div class="sec-title">Architecture & Components</div><div class="sec-desc">Click any component to explore its role in the cluster.</div></div>

  <div class="arch-wrapper">
    <div class="card-title"><span>‚éà</span> Kubernetes Cluster</div>
    <div class="cluster-box">
      <span class="cluster-label">K8s Cluster</span>
      <div class="planes-row">
        <div class="plane-box plane-control">
          <div class="plane-title"><span class="pdot pdot-purple"></span>Control Plane</div>
          <div class="arch-comps">
            <div class="arch-comp" onclick="showArchDetail('apiserver',this)"><span class="arch-comp-icon">üîå</span><div><div class="arch-comp-name">API Server</div><div class="arch-comp-desc">Front door ‚Äî all operations go here</div></div></div>
            <div class="arch-comp" onclick="showArchDetail('etcd',this)"><span class="arch-comp-icon">üóÑÔ∏è</span><div><div class="arch-comp-name">etcd</div><div class="arch-comp-desc">Distributed KV ‚Äî single source of truth</div></div></div>
            <div class="arch-comp" onclick="showArchDetail('scheduler',this)"><span class="arch-comp-icon">üìÖ</span><div><div class="arch-comp-name">Scheduler</div><div class="arch-comp-desc">Assigns pods to the best node</div></div></div>
            <div class="arch-comp" onclick="showArchDetail('controller',this)"><span class="arch-comp-icon">üîÑ</span><div><div class="arch-comp-name">Controller Manager</div><div class="arch-comp-desc">Reconciliation loops for desired state</div></div></div>
            <div class="arch-comp" onclick="showArchDetail('ccm',this)"><span class="arch-comp-icon">‚òÅÔ∏è</span><div><div class="arch-comp-name">Cloud Controller</div><div class="arch-comp-desc">Bridges to cloud-provider APIs</div></div></div>
          </div>
        </div>
        <div class="plane-box plane-data">
          <div class="plane-title"><span class="pdot pdot-blue"></span>Data Plane ‚Äî Worker Node</div>
          <div class="arch-comps">
            <div class="arch-comp" onclick="showArchDetail('kubelet',this)"><span class="arch-comp-icon">ü§ñ</span><div><div class="arch-comp-name">kubelet</div><div class="arch-comp-desc">Node agent ‚Äî runs & health-checks pods</div></div></div>
            <div class="arch-comp" onclick="showArchDetail('kubeproxy',this)"><span class="arch-comp-icon">üåê</span><div><div class="arch-comp-name">kube-proxy</div><div class="arch-comp-desc">iptables/IPVS rules for Services</div></div></div>
            <div class="arch-comp" onclick="showArchDetail('cri',this)"><span class="arch-comp-icon">üì¶</span><div><div class="arch-comp-name">Container Runtime</div><div class="arch-comp-desc">containerd/CRI-O ‚Äî runs containers</div></div></div>
            <div class="arch-comp" onclick="showArchDetail('cni',this)"><span class="arch-comp-icon">üï∏Ô∏è</span><div><div class="arch-comp-name">CNI Plugin</div><div class="arch-comp-desc">Calico/Cilium ‚Äî pod networking</div></div></div>
          </div>
        </div>
      </div>
      <div style="font-size:11px;font-weight:700;color:var(--green);text-transform:uppercase;letter-spacing:.08em;margin-bottom:8px;">‚óè Worker Nodes</div>
      <div class="workers-row">
        <div class="worker-node" onclick="showArchDetail('pod',this)"><div class="worker-title">Node 1</div><div class="pods-row"><div class="pod-chip">nginx-7x4</div><div class="pod-chip">api-2x1</div></div><div class="node-agents"><div class="node-agent">kubelet</div><div class="node-agent">kube-proxy</div><div class="node-agent">containerd</div></div></div>
        <div class="worker-node" onclick="showArchDetail('pod',this)"><div class="worker-title">Node 2</div><div class="pods-row"><div class="pod-chip">worker-3x2</div><div class="pod-chip">cache-9</div></div><div class="node-agents"><div class="node-agent">kubelet</div><div class="node-agent">kube-proxy</div><div class="node-agent">containerd</div></div></div>
        <div class="worker-node" onclick="showArchDetail('pod',this)"><div class="worker-title">Node 3</div><div class="pods-row"><div class="pod-chip">db-0</div><div class="pod-chip">monitor-4</div></div><div class="node-agents"><div class="node-agent">kubelet</div><div class="node-agent">kube-proxy</div><div class="node-agent">containerd</div></div></div>
      </div>
      <div id="archDetail" style="display:none;"></div>
    </div>
  </div>

  <!-- Request flow -->
  <div class="arch-wrapper">
    <div class="card-title"><span>üì¨</span> Pod Scheduling ‚Äî Request Flow</div>
    <div class="flow-steps">
      <div class="flow-step"><div class="step-num sn1">1</div><div><div class="step-title">kubectl apply</div><div class="step-desc">kubectl sends YAML to API Server over HTTPS. Authentication ‚Üí RBAC Authorization ‚Üí Admission Controllers run.</div><div class="step-code">kubectl apply -f deployment.yaml</div></div></div>
      <div class="flow-step"><div class="step-num sn2">2</div><div><div class="step-title">Write to etcd</div><div class="step-desc">Desired state persisted to etcd. All components watch for changes via API Server's watch mechanism.</div></div></div>
      <div class="flow-step"><div class="step-num sn3">3</div><div><div class="step-title">Scheduler assigns node</div><div class="step-desc">Filter (taints, resources, affinity) ‚Üí Score (rank 0‚Äì100) ‚Üí Bind. Binding written back to etcd.</div></div></div>
      <div class="flow-step"><div class="step-num sn4">4</div><div><div class="step-title">kubelet starts container</div><div class="step-desc">kubelet on assigned node calls containerd via CRI gRPC ‚Üí pulls image ‚Üí creates container via runc.</div></div></div>
      <div class="flow-step"><div class="step-num sn5">5</div><div><div class="step-title">CNI wires networking</div><div class="step-desc">CNI plugin assigns pod IP. kube-proxy updates iptables/IPVS so Service routes traffic to the new pod.</div></div></div>
      <div class="flow-step"><div class="step-num sn6">6</div><div><div class="step-title">Perpetual reconciliation</div><div class="step-desc">Controllers continuously compare actual ‚Üî desired state. Pod crashes ‚Üí ReplicaSet controller creates a new one immediately.</div></div></div>
    </div>
  </div>

  <!-- Objects table -->
  <div class="arch-wrapper">
    <div class="card-title"><span>üß©</span> Core K8s Objects</div>
    <table class="ref-table" style="margin-bottom:0">
      <tr><th>Object</th><th>Purpose</th><th>Scope</th><th>Abbrev</th></tr>
      <tr><td>Pod</td><td>Smallest deployable unit ‚Äî shared network + storage</td><td>Namespaced</td><td>po</td></tr>
      <tr><td>ReplicaSet</td><td>Ensures N identical pods always run</td><td>Namespaced</td><td>rs</td></tr>
      <tr><td>Deployment</td><td>Manages ReplicaSets for rolling updates & rollbacks</td><td>Namespaced</td><td>deploy</td></tr>
      <tr><td>StatefulSet</td><td>Stable pod identity, ordered ops, persistent storage</td><td>Namespaced</td><td>sts</td></tr>
      <tr><td>DaemonSet</td><td>One pod per node ‚Äî logs, monitoring, CNI agents</td><td>Namespaced</td><td>ds</td></tr>
      <tr><td>Job / CronJob</td><td>Run-to-completion / scheduled tasks</td><td>Namespaced</td><td>cj</td></tr>
      <tr><td>Service</td><td>Stable VIP + DNS ‚Üí load-balances to pods</td><td>Namespaced</td><td>svc</td></tr>
      <tr><td>Ingress</td><td>HTTP/S routing rules (needs Ingress Controller)</td><td>Namespaced</td><td>ing</td></tr>
      <tr><td>ConfigMap</td><td>Non-sensitive config as key-value pairs</td><td>Namespaced</td><td>cm</td></tr>
      <tr><td>Secret</td><td>Sensitive config ‚Äî base64 (use Vault for real encryption)</td><td>Namespaced</td><td>‚Äî</td></tr>
      <tr><td>PersistentVolume</td><td>Cluster-wide storage resource</td><td>Cluster</td><td>pv</td></tr>
      <tr><td>PersistentVolumeClaim</td><td>Pod's request for storage, binds to a PV</td><td>Namespaced</td><td>pvc</td></tr>
      <tr><td>Namespace</td><td>Virtual cluster for resource isolation</td><td>Cluster</td><td>ns</td></tr>
      <tr><td>Node</td><td>Worker machine (VM or bare-metal)</td><td>Cluster</td><td>no</td></tr>
      <tr><td>ServiceAccount</td><td>Pod identity for RBAC</td><td>Namespaced</td><td>sa</td></tr>
      <tr><td>NetworkPolicy</td><td>L3/L4 firewall rules for pods</td><td>Namespaced</td><td>netpol</td></tr>
    </table>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê PODS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="section" id="sec-pods">
  <div class="sec-head"><div class="sec-title">Pods</div><div class="sec-desc">Create, inspect, debug, and delete pods ‚Äî the atomic unit of Kubernetes.</div></div>
  <div class="tip-box tip-blue"><span class="tip-icon">üí°</span><div class="tip-text"><strong>CKA Exam tip:</strong> Always use <code>--dry-run=client -o yaml</code> to generate manifests. Set <code>export do="--dry-run=client -o yaml"</code> at exam start.</div></div>

  <div class="category">
    <div class="cat-header"><div class="cat-icon" style="background:var(--blue-l)">üìã</div><span class="cat-name">Inspect & Get</span><span class="cat-count">7 commands</span></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">List all pods (with full details)</span><span class="cmd-tag tag-get">GET</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> get pods <span class="hl-flag">-n</span> <span class="hl-val">&lt;ns&gt;</span> <span class="hl-flag">-o</span> wide <span class="hl-flag">--show-labels</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Use <code>-A</code> for all namespaces. <code>-w</code> watches live changes. <code>-l app=nginx</code> filters by label.</div><div class="cmd-flags"><span class="flag"><strong>-A</strong> all ns</span><span class="flag"><strong>-o wide</strong> node+IP</span><span class="flag"><strong>-w</strong> watch</span><span class="flag"><strong>-l key=val</strong> filter</span><span class="flag"><strong>--show-labels</strong></span></div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Describe pod ‚Äî events, status, resources</span><span class="cmd-tag tag-get">GET</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> describe pod <span class="hl-val">&lt;pod&gt;</span> <span class="hl-flag">-n</span> <span class="hl-val">&lt;ns&gt;</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">The Events section at the bottom is the most valuable part for debugging. Look for: FailedScheduling, BackOff, OOMKilled, Pulling, Failed.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Get pod YAML / JSON manifest</span><span class="cmd-tag tag-get">GET</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> get pod <span class="hl-val">&lt;pod&gt;</span> <span class="hl-flag">-o</span> yaml<button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Export running pod spec. Useful for copying to edit. Strip <code>status</code>, <code>creationTimestamp</code>, and <code>resourceVersion</code> before re-applying.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Stream logs ‚Äî follow with filter</span><span class="cmd-tag tag-debug">DEBUG</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> logs <span class="hl-val">&lt;pod&gt;</span> <span class="hl-flag">-f --tail=</span><span class="hl-val">100</span> <span class="hl-flag">--since=</span><span class="hl-val">10m</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Use <code>-c &lt;container&gt;</code> for multi-container pods. <code>--previous</code> gets logs from crashed container. Pipe to <code>grep ERROR</code> to filter.</div><div class="cmd-flags"><span class="flag"><strong>-f</strong> stream</span><span class="flag"><strong>--previous</strong> crashed</span><span class="flag"><strong>-c name</strong> container</span><span class="flag"><strong>--since=1h</strong> last hour</span></div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Exec into container shell</span><span class="cmd-tag tag-debug">DEBUG</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> exec <span class="hl-flag">-it</span> <span class="hl-val">&lt;pod&gt;</span> <span class="hl-flag">-c</span> <span class="hl-val">&lt;container&gt;</span> <span class="hl-flag">--</span> /bin/sh<button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Opens interactive shell. Use <code>/bin/bash</code> if available. Run single command: <code>-- env</code> or <code>-- curl http://svc</code>.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">jsonpath ‚Äî extract specific fields</span><span class="cmd-tag tag-get">GET</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> get pods <span class="hl-flag">-o</span> jsonpath='{range .items[*]}{.metadata.name}{"\t"}{.status.phase}{"\n"}{end}'<button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Loop over all pods and print name + phase. jsonpath is powerful for scripting: extract IPs, images, node names. Also try <code>-o custom-columns=NAME:.metadata.name,NODE:.spec.nodeName</code>.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Watch pod status until Running</span><span class="cmd-tag tag-get">GET</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> get pod <span class="hl-val">&lt;pod&gt;</span> <span class="hl-flag">-w</span> <span class="hl-flag">--output-watch-events</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Watch shows live transitions: Pending ‚Üí ContainerCreating ‚Üí Running. Add <code>--output-watch-events</code> to see ADDED/MODIFIED/DELETED events.</div></div></div>
  </div>

  <div class="category">
    <div class="cat-header"><div class="cat-icon" style="background:var(--green-l)">‚ûï</div><span class="cat-name">Create & Manage</span><span class="cat-count">6 commands</span></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Generate pod YAML (exam technique ‚≠ê)</span><span class="cmd-tag tag-exam">EXAM</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> run <span class="hl-val">nginx</span> <span class="hl-flag">--image=</span><span class="hl-val">nginx:1.25</span> <span class="hl-flag">--port=</span><span class="hl-val">80</span> <span class="hl-flag">--dry-run=client -o</span> yaml <span class="hl-flag">></span> pod.yaml<button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">‚≠ê Generates a complete, valid pod manifest. Edit then <code>kubectl apply -f pod.yaml</code>. Fastest way to create complex pods in the exam.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Run pod with env vars, labels, resources</span><span class="cmd-tag tag-create">CREATE</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> run <span class="hl-val">myapp</span> <span class="hl-flag">--image=</span><span class="hl-val">nginx</span> <span class="hl-flag">--env=</span><span class="hl-val">APP_ENV=prod</span> <span class="hl-flag">--labels=</span><span class="hl-val">app=myapp,tier=frontend</span> <span class="hl-flag">--requests=</span><span class="hl-val">cpu=100m,memory=128Mi</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Sets env vars, labels, and resource requests imperatively. Add <code>--limits=cpu=500m,memory=256Mi</code> for limits.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Temporary debug pod (auto-cleanup)</span><span class="cmd-tag tag-debug">DEBUG</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> run tmp <span class="hl-flag">--image=</span><span class="hl-val">busybox:1.28</span> <span class="hl-flag">--rm -it --restart=Never --</span> sh<button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Use busybox:1.28 for nslookup. Pod auto-deletes on exit. Use <code>nicolaka/netshoot</code> for full networking tools (curl, dig, netstat, tcpdump).</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Debug distroless pod (ephemeral container)</span><span class="cmd-tag tag-debug">DEBUG</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> debug <span class="hl-val">&lt;pod&gt;</span> <span class="hl-flag">-it --image=</span><span class="hl-val">busybox</span> <span class="hl-flag">--target=</span><span class="hl-val">&lt;container&gt;</span> <span class="hl-flag">--share-processes</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Attaches debug sidecar without restarting the pod (K8s 1.23+). <code>--share-processes</code> lets you see the target container's processes. Great for distroless or scratch images.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Apply manifest with validation</span><span class="cmd-tag tag-apply">APPLY</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> apply <span class="hl-flag">-f</span> <span class="hl-val">pod.yaml</span> <span class="hl-flag">--validate=true</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Idempotent create/update. <code>--validate=true</code> (default) runs client-side schema validation. Use <code>kubectl diff -f pod.yaml</code> to preview changes before applying.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Force delete pod instantly</span><span class="cmd-tag tag-delete">DELETE</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> delete pod <span class="hl-val">&lt;pod&gt;</span> <span class="hl-flag">--grace-period=0 --force</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Skips 30s termination grace period. Use in exam to save time. In production, let graceful termination complete for clean shutdowns.</div></div></div>
  </div>

  <div class="category">
    <div class="cat-header"><div class="cat-icon" style="background:var(--purple-l)">üß©</div><span class="cat-name">Multi-Container Patterns</span><span class="cat-count">3 patterns</span></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Init container ‚Äî run before main container</span><span class="cmd-tag tag-apply">YAML</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code">spec:
  <span class="hl-key">initContainers:</span>
  - name: <span class="hl-val">init-db</span>
    image: <span class="hl-val">busybox</span>
    command: <span class="hl-str">['sh','-c','until nc -z db 5432; do sleep 2; done']</span>
  <span class="hl-key">containers:</span>
  - name: <span class="hl-val">app</span>
    image: <span class="hl-val">myapp:1.0</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Init containers run sequentially before app containers. Use cases: wait for DB, pre-populate data, set permissions. Must exit 0 for app to start.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Sidecar pattern ‚Äî log shipper</span><span class="cmd-tag tag-apply">YAML</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code">containers:
- name: <span class="hl-val">app</span>
  image: <span class="hl-val">myapp</span>
  volumeMounts:
  - mountPath: <span class="hl-str">/var/log</span>
    name: <span class="hl-val">logs</span>
- name: <span class="hl-val">log-agent</span>
  image: <span class="hl-val">fluentd</span>
  volumeMounts:
  - mountPath: <span class="hl-str">/var/log</span>
    name: <span class="hl-val">logs</span>
volumes:
- name: <span class="hl-val">logs</span>
  emptyDir: {}<button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Sidecar shares storage via emptyDir. Common use cases: log shippers (Fluentd), service mesh proxies (Envoy/Istio), metrics scrapers. Containers share the same network namespace.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Resource requests & limits</span><span class="cmd-tag tag-apply">YAML</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code">containers:
- name: <span class="hl-val">app</span>
  image: <span class="hl-val">nginx</span>
  resources:
    requests:
      memory: <span class="hl-str">"128Mi"</span>
      cpu: <span class="hl-str">"250m"</span>
    limits:
      memory: <span class="hl-str">"256Mi"</span>
      cpu: <span class="hl-str">"500m"</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Requests = what scheduler uses for node placement. Limits = max allowed (CPU throttled, memory OOMKilled if exceeded). 250m = 0.25 CPU cores. Set both for Guaranteed QoS class.</div></div></div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê WORKLOADS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="section" id="sec-workloads">
  <div class="sec-head"><div class="sec-title">Workloads</div><div class="sec-desc">Deployments, StatefulSets, DaemonSets, Jobs, CronJobs.</div></div>

  <div class="category">
    <div class="cat-header"><div class="cat-icon" style="background:var(--blue-l)">üöÄ</div><span class="cat-name">Deployments</span><span class="cat-count">8 commands</span></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Create deployment + generate YAML</span><span class="cmd-tag tag-exam">EXAM</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> create deployment <span class="hl-val">myapp</span> <span class="hl-flag">--image=</span><span class="hl-val">nginx:1.25</span> <span class="hl-flag">--replicas=</span><span class="hl-val">3</span> <span class="hl-flag">--dry-run=client -o</span> yaml <span class="hl-flag">></span> deploy.yaml<button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Generate YAML then edit to add resource limits, env vars, probes, etc. Much faster than writing from scratch.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Scale deployment</span><span class="cmd-tag tag-edit">EDIT</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> scale deployment <span class="hl-val">myapp</span> <span class="hl-flag">--replicas=</span><span class="hl-val">5</span> <span class="hl-flag">-n</span> <span class="hl-val">&lt;ns&gt;</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Also works on ReplicaSets and StatefulSets. Can also use <code>kubectl edit</code> or <code>kubectl patch</code>.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Update image ‚Äî rolling update</span><span class="cmd-tag tag-edit">EDIT</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> set image deployment/<span class="hl-val">myapp</span> <span class="hl-val">nginx</span>=<span class="hl-val">nginx:1.26</span> <span class="hl-flag">--record</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Triggers rolling update. <code>--record</code> annotates revision with command (deprecated but useful). Controlled by maxSurge and maxUnavailable.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Rollout history + rollback</span><span class="cmd-tag tag-edit">EDIT</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> rollout history deployment/<span class="hl-val">myapp</span>
<span class="hl-cmd">kubectl</span> rollout undo deployment/<span class="hl-val">myapp</span> <span class="hl-flag">--to-revision=</span><span class="hl-val">2</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">View history then roll back to specific revision. <code>rollout status</code> waits and reports success/failure.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Pause + resume rollout</span><span class="cmd-tag tag-edit">EDIT</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> rollout pause deployment/<span class="hl-val">myapp</span>
<span class="hl-comment"># make changes...</span>
<span class="hl-cmd">kubectl</span> rollout resume deployment/<span class="hl-val">myapp</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Pause allows you to make multiple changes without triggering multiple rollouts. Resume triggers one combined rollout.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Rolling update strategy YAML</span><span class="cmd-tag tag-apply">YAML</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code">spec:
  strategy:
    type: <span class="hl-val">RollingUpdate</span>
    rollingUpdate:
      maxSurge: <span class="hl-val">1</span>        <span class="hl-comment"># extra pods above desired</span>
      maxUnavailable: <span class="hl-val">0</span>  <span class="hl-comment"># 0 = no downtime</span></button><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc"><code>maxSurge</code>: how many extra pods can exist during update. <code>maxUnavailable</code>: how many can be down. Set maxUnavailable=0 for zero-downtime deployments.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Autoscale with HPA</span><span class="cmd-tag tag-create">CREATE</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> autoscale deployment <span class="hl-val">myapp</span> <span class="hl-flag">--min=</span><span class="hl-val">2</span> <span class="hl-flag">--max=</span><span class="hl-val">10</span> <span class="hl-flag">--cpu-percent=</span><span class="hl-val">70</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Creates a HorizontalPodAutoscaler. Requires metrics-server. Scales between 2‚Äì10 replicas keeping CPU below 70%.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Patch deployment (inline)</span><span class="cmd-tag tag-edit">EDIT</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> patch deployment <span class="hl-val">myapp</span> <span class="hl-flag">-p</span> '{"spec":{"replicas":3}}'<button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Strategic merge patch. Faster than <code>kubectl edit</code> for single field changes. Use <code>--type=json</code> for JSON patch.</div></div></div>
  </div>

  <div class="category">
    <div class="cat-header"><div class="cat-icon" style="background:var(--purple-l)">üì¶</div><span class="cat-name">StatefulSets, DaemonSets, Jobs</span><span class="cat-count">5 commands</span></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">StatefulSet key concepts & YAML</span><span class="cmd-tag tag-apply">YAML</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code">kind: StatefulSet
spec:
  serviceName: <span class="hl-val">"mysql"</span>     <span class="hl-comment"># headless service required</span>
  replicas: <span class="hl-val">3</span>
  selector:
    matchLabels: {app: <span class="hl-val">mysql</span>}
  volumeClaimTemplates:      <span class="hl-comment"># per-pod PVC</span>
  - metadata: {name: <span class="hl-val">data</span>}
    spec:
      accessModes: [<span class="hl-val">ReadWriteOnce</span>]
      resources: {requests: {storage: <span class="hl-val">10Gi</span>}}<button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">StatefulSets give pods stable names (pod-0, pod-1‚Ä¶), stable DNS (pod-0.svc.ns.svc.cluster.local), and per-pod PVCs via volumeClaimTemplates. Requires a headless Service (clusterIP: None).</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">DaemonSet ‚Äî one pod per node</span><span class="cmd-tag tag-get">GET</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> get daemonsets <span class="hl-flag">-A</span>
<span class="hl-cmd">kubectl</span> get pods <span class="hl-flag">-l</span> <span class="hl-val">app=fluentd</span> <span class="hl-flag">-o</span> wide   <span class="hl-comment"># check all nodes covered</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">DaemonSets schedule one pod per eligible node. Common uses: log collectors (Fluentd), node monitoring (Prometheus Node Exporter), CNI agents. Add tolerations to run on control-plane nodes.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Create a Job (run to completion)</span><span class="cmd-tag tag-create">CREATE</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> create job <span class="hl-val">batch-job</span> <span class="hl-flag">--image=</span><span class="hl-val">perl</span> <span class="hl-flag">--</span> perl <span class="hl-flag">-Mbignum=bpi</span> <span class="hl-flag">-wle</span> <span class="hl-val">'print bpi(2000)'</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Jobs run pods until completion. Set <code>spec.completions</code> for multiple runs, <code>spec.parallelism</code> for concurrent pods, <code>spec.backoffLimit</code> for retry count.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Create a CronJob</span><span class="cmd-tag tag-create">CREATE</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> create cronjob <span class="hl-val">daily-backup</span> <span class="hl-flag">--image=</span><span class="hl-val">busybox</span> <span class="hl-flag">--schedule=</span><span class="hl-val">"0 2 * * *"</span> <span class="hl-flag">--</span> sh <span class="hl-flag">-c</span> <span class="hl-val">'echo backup'</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Cron syntax: minute hour day month weekday. Use <code>spec.concurrencyPolicy: Forbid</code> to prevent overlapping runs. <code>spec.successfulJobsHistoryLimit</code> controls how many completed jobs are kept.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Probes ‚Äî liveness, readiness, startup</span><span class="cmd-tag tag-apply">YAML</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code">livenessProbe:
  httpGet: {path: <span class="hl-str">/healthz</span>, port: <span class="hl-val">8080</span>}
  initialDelaySeconds: <span class="hl-val">10</span>
  periodSeconds: <span class="hl-val">5</span>
  failureThreshold: <span class="hl-val">3</span>
readinessProbe:
  httpGet: {path: <span class="hl-str">/ready</span>, port: <span class="hl-val">8080</span>}
  initialDelaySeconds: <span class="hl-val">5</span>
startupProbe:
  httpGet: {path: <span class="hl-str">/started</span>, port: <span class="hl-val">8080</span>}
  failureThreshold: <span class="hl-val">30</span>
  periodSeconds: <span class="hl-val">10</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc"><strong>Liveness:</strong> restart container if fails. <strong>Readiness:</strong> remove from Service endpoints if fails. <strong>Startup:</strong> disables liveness/readiness until app boots (good for slow-starting apps). Also: <code>exec</code> and <code>tcpSocket</code> probe types.</div></div></div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SERVICES ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="section" id="sec-services">
  <div class="sec-head"><div class="sec-title">Services & Networking</div><div class="sec-desc">Services, Ingress, NetworkPolicy, DNS.</div></div>
  <div class="tip-box tip-yellow"><span class="tip-icon">‚ö†Ô∏è</span><div class="tip-text"><strong>Common exam mistake:</strong> If <code>kubectl get endpoints</code> shows &lt;none&gt;, the Service selector doesn't match any pod labels. Always verify with <code>kubectl get pods --show-labels</code>.</div></div>

  <div class="category">
    <div class="cat-header"><div class="cat-icon" style="background:var(--teal-l)">üîÄ</div><span class="cat-name">Services</span><span class="cat-count">7 commands</span></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Expose deployment as Service</span><span class="cmd-tag tag-create">CREATE</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> expose deployment <span class="hl-val">myapp</span> <span class="hl-flag">--port=</span><span class="hl-val">80</span> <span class="hl-flag">--target-port=</span><span class="hl-val">8080</span> <span class="hl-flag">--type=</span><span class="hl-val">ClusterIP</span> <span class="hl-flag">--name=</span><span class="hl-val">myapp-svc</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Fastest way to create a Service. Automatically inherits pod selector from Deployment. <code>--port</code>=service port, <code>--target-port</code>=container port.</div><div class="cmd-flags"><span class="flag"><strong>ClusterIP</strong> internal</span><span class="flag"><strong>NodePort</strong> all nodes</span><span class="flag"><strong>LoadBalancer</strong> cloud LB</span><span class="flag"><strong>ExternalName</strong> DNS alias</span></div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Service YAML ‚Äî all types reference</span><span class="cmd-tag tag-apply">YAML</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code">kind: Service
spec:
  type: <span class="hl-val">NodePort</span>
  selector:
    app: <span class="hl-val">myapp</span>         <span class="hl-comment"># must match pod labels!</span>
  ports:
  - port: <span class="hl-val">80</span>            <span class="hl-comment"># service port</span>
    targetPort: <span class="hl-val">8080</span>   <span class="hl-comment"># container port</span>
    nodePort: <span class="hl-val">30080</span>    <span class="hl-comment"># 30000-32767 (NodePort only)</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">DNS: <code>&lt;svc&gt;.&lt;ns&gt;.svc.cluster.local</code>. Short form <code>&lt;svc&gt;</code> works within the same namespace. NodePort range: 30000-32767.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Headless Service (StatefulSet)</span><span class="cmd-tag tag-apply">YAML</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code">kind: Service
spec:
  clusterIP: <span class="hl-val">None</span>      <span class="hl-comment"># headless ‚Äî no VIP</span>
  selector:
    app: <span class="hl-val">mysql</span>
  ports:
  - port: <span class="hl-val">3306</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Headless service returns individual pod IPs via DNS instead of a VIP. Required by StatefulSets. Each pod gets a DNS record: <code>pod-0.svc.ns.svc.cluster.local</code>.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">List services + check endpoints</span><span class="cmd-tag tag-get">GET</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> get svc,endpoints <span class="hl-flag">-n</span> <span class="hl-val">&lt;ns&gt;</span>
<span class="hl-cmd">kubectl</span> describe endpoints <span class="hl-val">&lt;svc-name&gt;</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">If Endpoints shows &lt;none&gt;: label mismatch between Service selector and pod labels. Check with <code>kubectl get pods --show-labels</code>.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Port-forward for local testing</span><span class="cmd-tag tag-debug">DEBUG</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> port-forward svc/<span class="hl-val">myapp-svc</span> <span class="hl-val">8080</span>:<span class="hl-val">80</span> <span class="hl-flag">-n</span> <span class="hl-val">&lt;ns&gt;</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Forwards localhost:8080 to the service. Runs in foreground (Ctrl+C to stop). Also works on pods and deployments.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">DNS test + curl from inside cluster</span><span class="cmd-tag tag-debug">DEBUG</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> run tmp <span class="hl-flag">--image=</span><span class="hl-val">nicolaka/netshoot</span> <span class="hl-flag">--rm -it --restart=Never --</span> bash
<span class="hl-comment"># Inside pod:</span>
nslookup <span class="hl-val">myapp-svc.default.svc.cluster.local</span>
curl <span class="hl-val">http://myapp-svc.default</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">netshoot has curl, dig, nslookup, netstat, tcpdump ‚Äî the best debug image. busybox:1.28 has nslookup but no curl. Use <code>wget -qO-</code> instead with busybox.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">NetworkPolicy ‚Äî allow specific ingress</span><span class="cmd-tag tag-apply">YAML</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code">kind: NetworkPolicy
spec:
  podSelector:
    matchLabels: {app: <span class="hl-val">db</span>}
  policyTypes: [Ingress]
  ingress:
  - from:
    - podSelector:
        matchLabels: {app: <span class="hl-val">api</span>}
    ports:
    - port: <span class="hl-val">5432</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Only pods with label <code>app=api</code> can reach <code>app=db</code> on port 5432. Requires CNI that supports NetworkPolicy (Calico, Cilium). Flannel does NOT.</div></div></div>
  </div>

  <div class="category">
    <div class="cat-header"><div class="cat-icon" style="background:var(--orange-l)">üö™</div><span class="cat-name">Ingress</span><span class="cat-count">3 commands</span></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Create Ingress (path + host based)</span><span class="cmd-tag tag-create">CREATE</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> create ingress <span class="hl-val">myingress</span> <span class="hl-flag">--rule=</span><span class="hl-val">"api.example.com/v1*=api-svc:80"</span> <span class="hl-flag">--rule=</span><span class="hl-val">"api.example.com/v2*=api-v2-svc:80"</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Imperative ingress creation. Format: <code>host/path=service:port</code>. Add <code>--class=nginx</code> for specific controller. Add <code>--annotation="nginx.ingress.kubernetes.io/rewrite-target=/"</code> for path rewriting.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Ingress with TLS YAML</span><span class="cmd-tag tag-apply">YAML</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code">spec:
  tls:
  - hosts: [<span class="hl-str">api.example.com</span>]
    secretName: <span class="hl-val">tls-secret</span>
  rules:
  - host: <span class="hl-str">api.example.com</span>
    http:
      paths:
      - path: <span class="hl-str">/</span>
        pathType: <span class="hl-val">Prefix</span>
        backend:
          service:
            name: <span class="hl-val">api-svc</span>
            port: {number: <span class="hl-val">80</span>}<button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">TLS secret must contain <code>tls.crt</code> and <code>tls.key</code>. Create with <code>kubectl create secret tls tls-secret --cert=tls.crt --key=tls.key</code>. Use cert-manager for auto Let's Encrypt.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">List + describe Ingress</span><span class="cmd-tag tag-get">GET</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> get ingress <span class="hl-flag">-A</span>
<span class="hl-cmd">kubectl</span> describe ingress <span class="hl-val">&lt;name&gt;</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Check ADDRESS column ‚Äî empty means the Ingress Controller isn't running or can't get an IP. Check ingress-nginx namespace for controller pods.</div></div></div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê STORAGE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="section" id="sec-storage">
  <div class="sec-head"><div class="sec-title">Storage</div><div class="sec-desc">PersistentVolumes, PVCs, StorageClasses, volume types.</div></div>
  <div class="category">
    <div class="cat-header"><div class="cat-icon" style="background:var(--orange-l)">üíæ</div><span class="cat-name">PV, PVC & StorageClass</span><span class="cat-count">6 commands</span></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">PersistentVolume ‚Äî hostPath (lab)</span><span class="cmd-tag tag-apply">YAML</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code">apiVersion: v1
kind: PersistentVolume
metadata: {name: <span class="hl-val">pv-001</span>}
spec:
  capacity: {storage: <span class="hl-val">1Gi</span>}
  accessModes: [<span class="hl-val">ReadWriteOnce</span>]
  persistentVolumeReclaimPolicy: <span class="hl-val">Retain</span>
  hostPath: {path: <span class="hl-str">/mnt/data</span>}<button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">hostPath is for single-node labs only ‚Äî not HA. Reclaim policies: Retain (keep data), Delete (remove), Recycle (deprecated). In production use cloud PVs (aws-ebs, gce-pd, azure-disk).</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">PVC ‚Äî claim storage</span><span class="cmd-tag tag-apply">YAML</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code">apiVersion: v1
kind: PersistentVolumeClaim
metadata: {name: <span class="hl-val">my-pvc</span>}
spec:
  accessModes: [<span class="hl-val">ReadWriteOnce</span>]
  storageClassName: <span class="hl-val">standard</span>
  resources:
    requests: {storage: <span class="hl-val">500Mi</span>}<button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">PVC status: Pending (no matching PV or dynamic provisioning failed), Bound (matched to PV), Lost (PV deleted). Access modes: RWO (one node r/w), ROX (many nodes read), RWX (many nodes r/w).</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Mount PVC + emptyDir in pod</span><span class="cmd-tag tag-apply">YAML</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code">volumes:
- name: <span class="hl-val">persist</span>
  persistentVolumeClaim:
    claimName: <span class="hl-val">my-pvc</span>
- name: <span class="hl-val">cache</span>
  emptyDir: {}             <span class="hl-comment"># ephemeral, lost on pod delete</span>
containers:
- volumeMounts:
  - {mountPath: <span class="hl-str">/data</span>, name: <span class="hl-val">persist</span>}
  - {mountPath: <span class="hl-str">/tmp/cache</span>, name: <span class="hl-val">cache</span>}<button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Volume name must match between <code>volumes</code> and <code>volumeMounts</code>. emptyDir lives for pod lifetime only. configMap and secret can also be mounted as volumes.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">List PVs and PVCs with status</span><span class="cmd-tag tag-get">GET</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> get pv <span class="hl-flag">--sort-by=</span><span class="hl-val">.spec.capacity.storage</span>
<span class="hl-cmd">kubectl</span> get pvc <span class="hl-flag">-A</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">PVs are cluster-scoped (no -n). Check STORAGECLASS, ACCESS MODES, STATUS, CLAIM columns. A PV in Released state won't rebind until reclaim policy runs.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">StorageClass ‚Äî dynamic provisioning</span><span class="cmd-tag tag-apply">YAML</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code">apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata: {name: <span class="hl-val">fast-ssd</span>}
provisioner: <span class="hl-val">kubernetes.io/aws-ebs</span>
parameters:
  type: <span class="hl-val">gp3</span>
  encrypted: <span class="hl-str">"true"</span>
reclaimPolicy: <span class="hl-val">Delete</span>
volumeBindingMode: <span class="hl-val">WaitForFirstConsumer</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc"><code>WaitForFirstConsumer</code>: don't provision until a pod is scheduled (important for topology-aware provisioning). <code>Immediate</code>: provision as soon as PVC is created.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Check which PVC is bound to which PV</span><span class="cmd-tag tag-debug">DEBUG</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> get pv <span class="hl-flag">-o</span> custom-columns=NAME:.metadata.name,CLAIM:.spec.claimRef.name,STATUS:.status.phase<button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Custom columns are great for exam tasks ‚Äî shows exactly PV ‚Üî PVC binding relationships without the clutter of <code>-o wide</code>.</div></div></div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê CONFIG ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="section" id="sec-config">
  <div class="sec-head"><div class="sec-title">Config & Secrets</div><div class="sec-desc">ConfigMaps, Secrets, injection patterns.</div></div>
  <div class="category">
    <div class="cat-header"><div class="cat-icon" style="background:var(--blue-l)">‚öôÔ∏è</div><span class="cat-name">ConfigMaps & Secrets</span><span class="cat-count">7 commands</span></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Create ConfigMap ‚Äî all methods</span><span class="cmd-tag tag-create">CREATE</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-comment"># From literals</span>
<span class="hl-cmd">kubectl</span> create cm <span class="hl-val">app-cfg</span> <span class="hl-flag">--from-literal=</span><span class="hl-val">DB=postgres</span> <span class="hl-flag">--from-literal=</span><span class="hl-val">PORT=5432</span>
<span class="hl-comment"># From file</span>
<span class="hl-cmd">kubectl</span> create cm <span class="hl-val">nginx-cfg</span> <span class="hl-flag">--from-file=</span><span class="hl-val">nginx.conf</span>
<span class="hl-comment"># From env file</span>
<span class="hl-cmd">kubectl</span> create cm <span class="hl-val">env-cfg</span> <span class="hl-flag">--from-env-file=</span><span class="hl-val">.env</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Three methods: literals (individual key=value), file (filename becomes key, content becomes value), env-file (.env format, each line becomes a key).</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Create Secret ‚Äî all types</span><span class="cmd-tag tag-create">CREATE</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-comment"># Generic</span>
<span class="hl-cmd">kubectl</span> create secret generic <span class="hl-val">db-pass</span> <span class="hl-flag">--from-literal=</span><span class="hl-val">password=s3cr3t</span>
<span class="hl-comment"># TLS</span>
<span class="hl-cmd">kubectl</span> create secret tls <span class="hl-val">my-tls</span> <span class="hl-flag">--cert=</span><span class="hl-val">tls.crt</span> <span class="hl-flag">--key=</span><span class="hl-val">tls.key</span>
<span class="hl-comment"># Docker registry (image pull)</span>
<span class="hl-cmd">kubectl</span> create secret docker-registry <span class="hl-val">regcred</span> <span class="hl-flag">--docker-server=</span><span class="hl-val">registry.io</span> <span class="hl-flag">--docker-username=</span><span class="hl-val">user</span> <span class="hl-flag">--docker-password=</span><span class="hl-val">pass</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">‚ö†Ô∏è Secrets are base64 encoded NOT encrypted by default. For real security: enable etcd encryption at rest OR use Sealed Secrets / External Secrets Operator + Vault.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Inject ConfigMap + Secret as env vars</span><span class="cmd-tag tag-apply">YAML</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code">envFrom:
- configMapRef: {name: <span class="hl-val">app-cfg</span>}    <span class="hl-comment"># all keys</span>
- secretRef: {name: <span class="hl-val">db-pass</span>}       <span class="hl-comment"># all keys</span>
env:
- name: <span class="hl-val">DB_HOST</span>
  valueFrom:
    configMapKeyRef:
      name: <span class="hl-val">app-cfg</span>
      key: <span class="hl-val">DB</span>
- name: <span class="hl-val">DB_PASS</span>
  valueFrom:
    secretKeyRef:
      name: <span class="hl-val">db-pass</span>
      key: <span class="hl-val">password</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc"><code>envFrom</code> loads ALL keys. <code>env.valueFrom</code> loads individual keys. ‚ö†Ô∏è Env vars from Secrets are NOT updated when the Secret changes. Use volume mounts for live updates.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Decode a secret value</span><span class="cmd-tag tag-get">GET</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> get secret <span class="hl-val">db-pass</span> <span class="hl-flag">-o</span> jsonpath='{.data.password}' | base64 <span class="hl-flag">-d</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Decodes base64 on the fly. Also: <code>kubectl get secret db-pass -o yaml</code> to see all keys then decode individually.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Mount as files (volume)</span><span class="cmd-tag tag-apply">YAML</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code">volumes:
- name: <span class="hl-val">config</span>
  configMap: {name: <span class="hl-val">app-cfg</span>}
- name: <span class="hl-val">creds</span>
  secret: {secretName: <span class="hl-val">db-pass</span>}
containers:
- volumeMounts:
  - {mountPath: <span class="hl-str">/etc/config</span>, name: <span class="hl-val">config</span>}
  - {mountPath: <span class="hl-str">/etc/creds</span>, name: <span class="hl-val">creds</span>, readOnly: <span class="hl-val">true</span>}<button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Each key becomes a file at <code>/etc/config/KEY</code>. Volume-mounted ConfigMaps update automatically (within ~1 min). Always mount Secret volumes as readOnly.</div></div></div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê RBAC ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="section" id="sec-rbac">
  <div class="sec-head"><div class="sec-title">RBAC</div><div class="sec-desc">Roles, ClusterRoles, ServiceAccounts ‚Äî who can do what.</div></div>
  <div class="tip-box tip-yellow"><span class="tip-icon">‚≠ê</span><div class="tip-text"><strong>CKA exam:</strong> RBAC questions are very common (Cluster Architecture = 25% weight). Remember: Role+RoleBinding = namespaced. ClusterRole+ClusterRoleBinding = cluster-wide. Always verify with <code>kubectl auth can-i</code>.</div></div>
  <div class="category">
    <div class="cat-header"><div class="cat-icon" style="background:var(--purple-l)">üîê</div><span class="cat-name">Roles & Bindings</span><span class="cat-count">7 commands</span></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Create Role ‚Üí RoleBinding (namespace)</span><span class="cmd-tag tag-exam">EXAM</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> create role <span class="hl-val">pod-reader</span> <span class="hl-flag">--verb=</span><span class="hl-val">get,list,watch</span> <span class="hl-flag">--resource=</span><span class="hl-val">pods</span> <span class="hl-flag">-n</span> <span class="hl-val">dev</span>
<span class="hl-cmd">kubectl</span> create rolebinding <span class="hl-val">alice-pod-reader</span> <span class="hl-flag">--role=</span><span class="hl-val">pod-reader</span> <span class="hl-flag">--user=</span><span class="hl-val">alice</span> <span class="hl-flag">-n</span> <span class="hl-val">dev</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Two commands: create the Role then bind it. Verbs: get, list, watch, create, update, patch, delete, deletecollection. Resources: pods, deployments, services, secrets, configmaps, etc.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Create ClusterRole ‚Üí ClusterRoleBinding</span><span class="cmd-tag tag-exam">EXAM</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> create clusterrole <span class="hl-val">node-reader</span> <span class="hl-flag">--verb=</span><span class="hl-val">get,list,watch</span> <span class="hl-flag">--resource=</span><span class="hl-val">nodes</span>
<span class="hl-cmd">kubectl</span> create clusterrolebinding <span class="hl-val">bob-node-reader</span> <span class="hl-flag">--clusterrole=</span><span class="hl-val">node-reader</span> <span class="hl-flag">--user=</span><span class="hl-val">bob</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Cluster-scoped for cluster-wide resources (nodes, PVs, namespaces, clusterroles). No namespace flag. ClusterRole can also be bound in a specific namespace via RoleBinding (useful for reuse).</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Bind to ServiceAccount</span><span class="cmd-tag tag-create">CREATE</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> create serviceaccount <span class="hl-val">my-sa</span> <span class="hl-flag">-n</span> <span class="hl-val">default</span>
<span class="hl-cmd">kubectl</span> create rolebinding <span class="hl-val">sa-pod-reader</span> <span class="hl-flag">--role=</span><span class="hl-val">pod-reader</span> <span class="hl-flag">--serviceaccount=</span><span class="hl-val">default:my-sa</span> <span class="hl-flag">-n</span> <span class="hl-val">dev</span>
<span class="hl-comment"># In pod spec:</span>
<span class="hl-comment"># spec.serviceAccountName: my-sa</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Format: <code>--serviceaccount=namespace:name</code>. The SA must exist before binding. Reference in pod spec via <code>spec.serviceAccountName</code>. Default SA has minimal permissions.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Check permissions ‚Äî auth can-i ‚≠ê</span><span class="cmd-tag tag-debug">DEBUG</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> auth can-i <span class="hl-val">create pods</span> <span class="hl-flag">--as=</span><span class="hl-val">alice</span> <span class="hl-flag">-n</span> <span class="hl-val">dev</span>
<span class="hl-cmd">kubectl</span> auth can-i <span class="hl-val">'*'</span> <span class="hl-val">'*'</span> <span class="hl-flag">--as=</span><span class="hl-val">system:serviceaccount:default:my-sa</span>
<span class="hl-cmd">kubectl</span> auth can-i <span class="hl-flag">--list</span> <span class="hl-flag">--as=</span><span class="hl-val">alice</span> <span class="hl-flag">-n</span> <span class="hl-val">dev</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Returns yes/no. <code>--list</code> shows all permissions for the user. For SA impersonation: <code>--as=system:serviceaccount:namespace:name</code>. Essential for RBAC debugging.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">View all RBAC for a user</span><span class="cmd-tag tag-get">GET</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> get rolebindings,clusterrolebindings <span class="hl-flag">-A</span> <span class="hl-flag">-o</span> yaml | grep <span class="hl-flag">-A</span> <span class="hl-val">5</span> <span class="hl-val">"alice"</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Greps all bindings mentioning the user. More thorough: use <code>kubectl auth can-i --list --as=alice</code> which computes effective permissions.</div></div></div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê NODES ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="section" id="sec-nodes">
  <div class="sec-head"><div class="sec-title">Nodes & Cluster</div><div class="sec-desc">Node management, taints, labels, kubeconfig, cluster operations.</div></div>
  <div class="category">
    <div class="cat-header"><div class="cat-icon" style="background:var(--green-l)">üñ•Ô∏è</div><span class="cat-name">Node Operations</span><span class="cat-count">8 commands</span></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Node overview + resource usage</span><span class="cmd-tag tag-get">GET</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> get nodes <span class="hl-flag">-o</span> wide
<span class="hl-cmd">kubectl</span> top nodes
<span class="hl-cmd">kubectl</span> describe node <span class="hl-val">&lt;node&gt;</span> | grep <span class="hl-flag">-A</span> <span class="hl-val">5</span> <span class="hl-val">"Allocated resources"</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">STATUS: Ready (healthy), NotReady (kubelet down), SchedulingDisabled (cordoned). top nodes requires metrics-server. describe shows Conditions, Capacity, Allocatable, and Allocated resources.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Cordon + drain + uncordon</span><span class="cmd-tag tag-exam">EXAM</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> cordon <span class="hl-val">node01</span>
<span class="hl-cmd">kubectl</span> drain <span class="hl-val">node01</span> <span class="hl-flag">--ignore-daemonsets --delete-emptydir-data</span>
<span class="hl-comment"># ... do maintenance ...</span>
<span class="hl-cmd">kubectl</span> uncordon <span class="hl-val">node01</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Standard maintenance workflow. cordon=stop new pods, drain=evict existing, uncordon=allow scheduling again. Add <code>--force</code> for pods without controllers.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Taint a node + pod tolerations</span><span class="cmd-tag tag-edit">EDIT</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> taint nodes <span class="hl-val">node01</span> <span class="hl-val">dedicated=gpu:NoSchedule</span>
<span class="hl-comment"># Remove taint:</span>
<span class="hl-cmd">kubectl</span> taint nodes <span class="hl-val">node01</span> <span class="hl-val">dedicated=gpu:NoSchedule-</span>
<span class="hl-comment"># Pod toleration YAML:</span>
<span class="hl-comment"># tolerations:</span>
<span class="hl-comment"># - key: dedicated, operator: Equal, value: gpu, effect: NoSchedule</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Effects: NoSchedule (no new pods), PreferNoSchedule (try to avoid), NoExecute (evict existing + no new). Remove taint with trailing <code>-</code>.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Node affinity + nodeSelector</span><span class="cmd-tag tag-apply">YAML</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code">spec:
  nodeSelector:           <span class="hl-comment"># simple</span>
    disktype: <span class="hl-val">ssd</span>
  affinity:
    nodeAffinity:
      requiredDuringSchedulingIgnoredDuringExecution:
        nodeSelectorTerms:
        - matchExpressions:
          - key: <span class="hl-val">topology.kubernetes.io/zone</span>
            operator: <span class="hl-val">In</span>
            values: [<span class="hl-val">us-east-1a</span>, <span class="hl-val">us-east-1b</span>]<button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">nodeSelector is simple label matching. nodeAffinity is more expressive with In, NotIn, Exists, DoesNotExist operators. <code>required</code>=hard constraint, <code>preferred</code>=soft (best effort).</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">kubeconfig ‚Äî context management ‚≠ê</span><span class="cmd-tag tag-config">CONFIG</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> config get-contexts
<span class="hl-cmd">kubectl</span> config use-context <span class="hl-val">&lt;context&gt;</span>
<span class="hl-cmd">kubectl</span> config current-context
<span class="hl-cmd">kubectl</span> config set-context <span class="hl-flag">--current --namespace=</span><span class="hl-val">dev</span>   <span class="hl-comment"># set default ns</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">‚≠ê CKA exam tip: ALWAYS switch context first. Mistakes in wrong contexts cost points. <code>set-context --current --namespace</code> sets default namespace so you don't need <code>-n</code> every time.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Static pods ‚Äî control plane bootstrap</span><span class="cmd-tag tag-debug">DEBUG</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-comment"># Static pod manifests location:</span>
ls /etc/kubernetes/manifests/
<span class="hl-comment"># kube-apiserver.yaml, kube-controller-manager.yaml</span>
<span class="hl-comment"># kube-scheduler.yaml, etcd.yaml</span>
<span class="hl-comment"># Edit to fix broken control plane:</span>
vi /etc/kubernetes/manifests/kube-apiserver.yaml<button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Static pods are managed directly by kubelet from files on disk ‚Äî not via API Server. kubelet auto-restarts them if they crash. Critical for CKA troubleshooting tasks involving broken control planes.</div></div></div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê UPGRADE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="section" id="sec-upgrade">
  <div class="sec-head"><div class="sec-title">Cluster Upgrade (kubeadm)</div><div class="sec-desc">Step-by-step upgrade walkthrough ‚Äî common CKA exam task (25% domain weight).</div></div>
  <div class="tip-box tip-red"><span class="tip-icon">‚ö†Ô∏è</span><div class="tip-text"><strong>Upgrade rules:</strong> Only upgrade one minor version at a time (1.28 ‚Üí 1.29, NOT 1.28 ‚Üí 1.30). Always upgrade Control Plane first, then workers. Backup etcd before starting.</div></div>

  <div class="upgrade-steps">
    <div class="upgrade-step" onclick="toggleStep(this)">
      <div class="upgrade-step-header"><div class="upgrade-step-num">1</div><div class="upgrade-step-title">Backup etcd (DO THIS FIRST)</div><span class="upgrade-step-badge">Pre-upgrade</span><span class="upgrade-step-arrow">‚ñ∂</span></div>
      <div class="upgrade-step-body">
        <div class="cmd-code">ETCDCTL_API=3 etcdctl snapshot save /opt/etcd-backup.db \
  <span class="hl-flag">--endpoints=</span>https://127.0.0.1:2379 \
  <span class="hl-flag">--cacert=</span>/etc/kubernetes/pki/etcd/ca.crt \
  <span class="hl-flag">--cert=</span>/etc/kubernetes/pki/etcd/server.crt \
  <span class="hl-flag">--key=</span>/etc/kubernetes/pki/etcd/server.key
<span class="hl-comment"># Verify:</span>
ETCDCTL_API=3 etcdctl snapshot status /opt/etcd-backup.db <span class="hl-flag">--write-out=table</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div>
      </div>
    </div>
    <div class="upgrade-step" onclick="toggleStep(this)">
      <div class="upgrade-step-header"><div class="upgrade-step-num">2</div><div class="upgrade-step-title">Check available versions + plan</div><span class="upgrade-step-badge">Control Plane</span><span class="upgrade-step-arrow">‚ñ∂</span></div>
      <div class="upgrade-step-body">
        <div class="cmd-code"><span class="hl-comment"># See what's available:</span>
kubeadm upgrade plan
<span class="hl-comment"># Check kubeadm version available:</span>
apt-cache madison kubeadm | head -5<button class="copy-btn" onclick="copyCode(event)">Copy</button></div>
      </div>
    </div>
    <div class="upgrade-step" onclick="toggleStep(this)">
      <div class="upgrade-step-header"><div class="upgrade-step-num">3</div><div class="upgrade-step-title">Upgrade kubeadm on control plane node</div><span class="upgrade-step-badge">Control Plane</span><span class="upgrade-step-arrow">‚ñ∂</span></div>
      <div class="upgrade-step-body">
        <div class="cmd-code"><span class="hl-comment"># Unhold, upgrade, rehold</span>
apt-mark unhold kubeadm
apt-get install <span class="hl-flag">-y</span> kubeadm=<span class="hl-val">1.29.0-1.1</span>
apt-mark hold kubeadm
kubeadm version<button class="copy-btn" onclick="copyCode(event)">Copy</button></div>
      </div>
    </div>
    <div class="upgrade-step" onclick="toggleStep(this)">
      <div class="upgrade-step-header"><div class="upgrade-step-num">4</div><div class="upgrade-step-title">Apply the upgrade to control plane</div><span class="upgrade-step-badge">Control Plane</span><span class="upgrade-step-arrow">‚ñ∂</span></div>
      <div class="upgrade-step-body">
        <div class="cmd-code">kubeadm upgrade apply <span class="hl-val">v1.29.0</span>
<span class="hl-comment"># Confirm with 'y' when prompted</span>
<span class="hl-comment"># This upgrades: apiserver, controller-manager, scheduler, etcd, kube-proxy</span></div>
      </div>
    </div>
    <div class="upgrade-step" onclick="toggleStep(this)">
      <div class="upgrade-step-header"><div class="upgrade-step-num">5</div><div class="upgrade-step-title">Upgrade kubelet + kubectl on control plane</div><span class="upgrade-step-badge">Control Plane</span><span class="upgrade-step-arrow">‚ñ∂</span></div>
      <div class="upgrade-step-body">
        <div class="cmd-code"><span class="hl-comment"># Drain the control plane node</span>
<span class="hl-cmd">kubectl</span> drain <span class="hl-val">controlplane</span> <span class="hl-flag">--ignore-daemonsets</span>
<span class="hl-comment"># Upgrade kubelet + kubectl</span>
apt-mark unhold kubelet kubectl
apt-get install <span class="hl-flag">-y</span> kubelet=<span class="hl-val">1.29.0-1.1</span> kubectl=<span class="hl-val">1.29.0-1.1</span>
apt-mark hold kubelet kubectl
<span class="hl-comment"># Restart kubelet</span>
systemctl daemon-reload && systemctl restart kubelet
<span class="hl-comment"># Uncordon</span>
<span class="hl-cmd">kubectl</span> uncordon <span class="hl-val">controlplane</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div>
      </div>
    </div>
    <div class="upgrade-step" onclick="toggleStep(this)">
      <div class="upgrade-step-header"><div class="upgrade-step-num">6</div><div class="upgrade-step-title">Upgrade each worker node (repeat per node)</div><span class="upgrade-step-badge">Worker Nodes</span><span class="upgrade-step-arrow">‚ñ∂</span></div>
      <div class="upgrade-step-body">
        <div class="cmd-code"><span class="hl-comment"># From CONTROL PLANE ‚Äî drain the worker</span>
<span class="hl-cmd">kubectl</span> drain <span class="hl-val">node01</span> <span class="hl-flag">--ignore-daemonsets --delete-emptydir-data</span>
<span class="hl-comment"># SSH INTO THE WORKER NODE, then:</span>
apt-mark unhold kubeadm kubelet kubectl
apt-get install <span class="hl-flag">-y</span> kubeadm=<span class="hl-val">1.29.0-1.1</span> kubelet=<span class="hl-val">1.29.0-1.1</span> kubectl=<span class="hl-val">1.29.0-1.1</span>
apt-mark hold kubeadm kubelet kubectl
kubeadm upgrade node
systemctl daemon-reload && systemctl restart kubelet
<span class="hl-comment"># Back on control plane:</span>
<span class="hl-cmd">kubectl</span> uncordon <span class="hl-val">node01</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div>
      </div>
    </div>
    <div class="upgrade-step" onclick="toggleStep(this)">
      <div class="upgrade-step-header"><div class="upgrade-step-num">7</div><div class="upgrade-step-title">Verify upgrade complete</div><span class="upgrade-step-badge">Verify</span><span class="upgrade-step-arrow">‚ñ∂</span></div>
      <div class="upgrade-step-body">
        <div class="cmd-code"><span class="hl-cmd">kubectl</span> get nodes       <span class="hl-comment"># all nodes should show new version + Ready</span>
<span class="hl-cmd">kubectl</span> version          <span class="hl-comment"># client + server version</span>
<span class="hl-cmd">kubectl</span> get pods <span class="hl-flag">-n</span> kube-system <span class="hl-comment"># all control plane pods healthy</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div>
      </div>
    </div>

    <!-- etcd restore section -->
    <div style="margin-top:20px;" class="card-title">üîÑ etcd Restore (if cluster state is lost)</div>
    <div class="upgrade-step" onclick="toggleStep(this)">
      <div class="upgrade-step-header"><div class="upgrade-step-num">R1</div><div class="upgrade-step-title">Restore etcd from snapshot</div><span class="upgrade-step-badge">Recovery</span><span class="upgrade-step-arrow">‚ñ∂</span></div>
      <div class="upgrade-step-body">
        <div class="cmd-code">ETCDCTL_API=3 etcdctl snapshot restore /opt/etcd-backup.db \
  <span class="hl-flag">--data-dir=</span>/var/lib/etcd-restore

<span class="hl-comment"># Update the static pod manifest to use new data dir:</span>
vi /etc/kubernetes/manifests/etcd.yaml
<span class="hl-comment"># Change: --data-dir=/var/lib/etcd  ‚Üí  --data-dir=/var/lib/etcd-restore</span>
<span class="hl-comment"># Also update hostPath volumes to match new data-dir</span>
<span class="hl-comment"># kubelet auto-restarts etcd after manifest change</span>
<span class="hl-comment"># Wait ~30s then verify:</span>
<span class="hl-cmd">kubectl</span> get nodes<button class="copy-btn" onclick="copyCode(event)">Copy</button></div>
      </div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê TROUBLESHOOT ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="section" id="sec-troubleshoot">
  <div class="sec-head"><div class="sec-title">Troubleshooting</div><div class="sec-desc">30% of CKA exam ‚Äî the most important section.</div></div>
  <div class="tip-box tip-green"><span class="tip-icon">üîß</span><div class="tip-text"><strong>Systematic approach:</strong> 1) Check pod status 2) describe pod (events!) 3) check logs 4) exec into pod 5) check service/endpoints 6) check node resources 7) check RBAC 8) check static pods in /etc/kubernetes/manifests</div></div>

  <div class="category">
    <div class="cat-header"><div class="cat-icon" style="background:var(--purple-l)">üêõ</div><span class="cat-name">Common Failure Patterns</span><span class="cat-count">10 commands</span></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">CrashLoopBackOff ‚Äî diagnose + fix</span><span class="cmd-tag tag-debug">DEBUG</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> describe pod <span class="hl-val">&lt;pod&gt;</span> | grep <span class="hl-flag">-A</span> <span class="hl-val">20</span> <span class="hl-val">Events</span>
<span class="hl-cmd">kubectl</span> logs <span class="hl-val">&lt;pod&gt;</span> <span class="hl-flag">--previous</span>          <span class="hl-comment"># crashed container logs</span>
<span class="hl-cmd">kubectl</span> logs <span class="hl-val">&lt;pod&gt;</span> <span class="hl-flag">-c</span> <span class="hl-val">&lt;container&gt;</span> <span class="hl-flag">--previous</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc"><strong>Causes:</strong> App crash on startup, wrong command/args, missing env vars, bad image, failing liveness probe, permission errors. Always check <code>--previous</code> logs to see the actual error before restart.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">ImagePullBackOff ‚Äî image issues</span><span class="cmd-tag tag-debug">DEBUG</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> describe pod <span class="hl-val">&lt;pod&gt;</span> | grep <span class="hl-val">-i</span> image
<span class="hl-comment"># Check: wrong image name, tag, private registry needs imagePullSecret</span>
<span class="hl-cmd">kubectl</span> patch pod <span class="hl-val">&lt;pod&gt;</span> <span class="hl-flag">-p</span> '{"spec":{"imagePullSecrets":[{"name":"regcred"}]}}'<button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Causes: typo in image name, wrong tag, image doesn't exist, private registry without imagePullSecret. Fix image name by editing the pod (delete + recreate since most spec fields are immutable) or edit the Deployment.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Pending pod ‚Äî scheduling failure</span><span class="cmd-tag tag-debug">DEBUG</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> describe pod <span class="hl-val">&lt;pod&gt;</span> | grep <span class="hl-flag">-A</span> <span class="hl-val">5</span> <span class="hl-val">Events</span>
<span class="hl-comment"># Look for: Insufficient cpu/memory, Unschedulable, taints</span>
<span class="hl-cmd">kubectl</span> get nodes <span class="hl-flag">-o</span> custom-columns=NAME:.metadata.name,CPU:.status.allocatable.cpu,MEM:.status.allocatable.memory<button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Causes: insufficient resources, all nodes cordoned, taint mismatch, nodeSelector not matching, PVC not bound. The Events section always tells you exactly why scheduling failed.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Service not reaching pods</span><span class="cmd-tag tag-debug">DEBUG</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> get endpoints <span class="hl-val">&lt;svc&gt;</span>            <span class="hl-comment"># should show pod IPs</span>
<span class="hl-cmd">kubectl</span> get pods <span class="hl-flag">--show-labels</span>            <span class="hl-comment"># check labels match selector</span>
<span class="hl-cmd">kubectl</span> get svc <span class="hl-val">&lt;svc&gt;</span> <span class="hl-flag">-o</span> yaml | grep selector <span class="hl-flag">-A</span> <span class="hl-val">3</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">If endpoints is empty: selector doesn't match any pod labels. Fix: update service selector or add correct labels to pods. Also check targetPort matches container port.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">kubelet not running ‚Äî node NotReady</span><span class="cmd-tag tag-debug">DEBUG</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code">ssh <span class="hl-val">node01</span>
systemctl status kubelet
journalctl <span class="hl-flag">-u</span> kubelet <span class="hl-flag">-f</span> <span class="hl-flag">--since=</span><span class="hl-val">"10 min ago"</span>
systemctl restart kubelet
<span class="hl-comment"># Check config:</span>
cat /var/lib/kubelet/config.yaml
cat /etc/kubernetes/kubelet.conf<button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Common causes: kubelet crashed, wrong config, cert expired, container runtime down. Check journalctl for the actual error. Also check if containerd is running: <code>systemctl status containerd</code>.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Control plane pod broken (static pod)</span><span class="cmd-tag tag-debug">DEBUG</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> get pods <span class="hl-flag">-n</span> kube-system
<span class="hl-comment"># If apiserver/scheduler/etcd not running:</span>
ls /etc/kubernetes/manifests/
cat /etc/kubernetes/manifests/kube-apiserver.yaml
<span class="hl-comment"># Look for wrong flags, wrong paths, wrong certs</span>
vi /etc/kubernetes/manifests/kube-apiserver.yaml
<span class="hl-comment"># kubelet auto-restarts static pod after save</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Common exam scenario: a static pod manifest has been intentionally broken (wrong flag, bad path, wrong port). Edit the manifest file to fix it ‚Äî kubelet will restart the pod automatically.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">OOMKilled ‚Äî memory issues</span><span class="cmd-tag tag-debug">DEBUG</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> describe pod <span class="hl-val">&lt;pod&gt;</span> | grep <span class="hl-flag">-i</span> <span class="hl-val">oom</span>
<span class="hl-cmd">kubectl</span> top pod <span class="hl-val">&lt;pod&gt;</span> <span class="hl-flag">--containers</span>
<span class="hl-comment"># Fix: increase memory limits in deployment</span>
<span class="hl-cmd">kubectl</span> set resources deployment <span class="hl-val">myapp</span> <span class="hl-flag">--limits=</span><span class="hl-val">memory=512Mi</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">OOMKilled: container exceeded memory limit. Check container restart count with <code>kubectl get pod -o wide</code>. Increase limits or fix memory leak in app.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Certificate expiry check + renew</span><span class="cmd-tag tag-debug">DEBUG</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code">kubeadm certs check-expiration
<span class="hl-comment"># Renew all certs:</span>
kubeadm certs renew all
<span class="hl-comment"># Restart control plane components:</span>
systemctl restart kubelet<button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">K8s certs expire after 1 year (kubeadm). Common cause of sudden cluster failures. After renewing, copy new kubeconfig: <code>cp /etc/kubernetes/admin.conf ~/.kube/config</code>.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">DNS debugging</span><span class="cmd-tag tag-debug">DEBUG</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-comment"># Check CoreDNS pods:</span>
<span class="hl-cmd">kubectl</span> get pods <span class="hl-flag">-n</span> kube-system <span class="hl-flag">-l</span> k8s-app=kube-dns
<span class="hl-comment"># Test DNS from a pod:</span>
<span class="hl-cmd">kubectl</span> run tmp <span class="hl-flag">--image=</span><span class="hl-val">busybox:1.28</span> <span class="hl-flag">--rm -it --restart=Never --</span> nslookup kubernetes
<span class="hl-comment"># Check CoreDNS config:</span>
<span class="hl-cmd">kubectl</span> get cm coredns <span class="hl-flag">-n</span> kube-system <span class="hl-flag">-o</span> yaml<button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">If nslookup fails: CoreDNS pods down, NetworkPolicy blocking DNS (port 53), or wrong /etc/resolv.conf in pod. Check CoreDNS logs: <code>kubectl logs -n kube-system -l k8s-app=kube-dns</code>.</div></div></div>
    <div class="cmd-card" onclick="toggle(this)"><div class="cmd-top"><span class="cmd-label">Get all events ‚Äî cluster-wide sorted</span><span class="cmd-tag tag-debug">DEBUG</span><span class="expand-icon">‚ñ∂</span></div><div class="cmd-code"><span class="hl-cmd">kubectl</span> get events <span class="hl-flag">-A</span> <span class="hl-flag">--sort-by=</span><span class="hl-val">.metadata.creationTimestamp</span> | tail <span class="hl-flag">-30</span>
<span class="hl-comment"># Filter for warnings only:</span>
<span class="hl-cmd">kubectl</span> get events <span class="hl-flag">-A</span> <span class="hl-flag">--field-selector</span> <span class="hl-val">type=Warning</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div><div class="cmd-detail"><div class="cmd-desc">Events are the single best debugging signal in Kubernetes. Shows scheduling decisions, image pulls, probe failures, OOM kills. Use <code>--field-selector type=Warning</code> to see only problems.</div></div></div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê YAML BUILDER ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="section" id="sec-yaml">
  <div class="sec-head"><div class="sec-title">YAML Builder</div><div class="sec-desc">Select a template, fill in the fields, and get valid Kubernetes YAML instantly.</div></div>
  <div class="yaml-builder">
    <div class="yaml-sidebar">
      <div class="yaml-sidebar-title">Templates</div>
      <button class="yaml-template-btn active-tpl" onclick="loadTemplate('pod',this)"><span class="tpl-icon">üü¢</span> Pod</button>
      <button class="yaml-template-btn" onclick="loadTemplate('deployment',this)"><span class="tpl-icon">üöÄ</span> Deployment</button>
      <button class="yaml-template-btn" onclick="loadTemplate('service',this)"><span class="tpl-icon">üîÄ</span> Service</button>
      <button class="yaml-template-btn" onclick="loadTemplate('configmap',this)"><span class="tpl-icon">‚öôÔ∏è</span> ConfigMap</button>
      <button class="yaml-template-btn" onclick="loadTemplate('secret',this)"><span class="tpl-icon">üîë</span> Secret</button>
      <button class="yaml-template-btn" onclick="loadTemplate('pvc',this)"><span class="tpl-icon">üíæ</span> PVC</button>
      <button class="yaml-template-btn" onclick="loadTemplate('ingress',this)"><span class="tpl-icon">üö™</span> Ingress</button>
      <button class="yaml-template-btn" onclick="loadTemplate('networkpolicy',this)"><span class="tpl-icon">üï∏Ô∏è</span> NetworkPolicy</button>
      <button class="yaml-template-btn" onclick="loadTemplate('role',this)"><span class="tpl-icon">üîê</span> Role + Binding</button>
      <button class="yaml-template-btn" onclick="loadTemplate('cronjob',this)"><span class="tpl-icon">‚è∞</span> CronJob</button>
    </div>
    <div class="yaml-main">
      <div class="yaml-toolbar">
        <span class="yaml-toolbar-title" id="yamlTemplateTitle">Pod</span>
        <button class="btn btn-primary btn-sm" onclick="copyYaml()">üìã Copy YAML</button>
        <button class="btn btn-ghost btn-sm" onclick="resetFields()">‚Ü∫ Reset</button>
      </div>
      <div class="yaml-fields" id="yamlFields"></div>
      <div class="yaml-output-header">
        <span class="yaml-output-label">Generated YAML</span>
        <span style="font-size:11px;color:var(--text3)">Updates live as you type</span>
      </div>
      <pre class="yaml-output" id="yamlOutput"></pre>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê PRACTICE Q&A ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="section" id="sec-quiz">
  <div class="sec-head"><div class="sec-title">Practice Questions</div><div class="sec-desc">Exam-style scenario questions across all CKA domains. Click an option to check your answer.</div></div>
  <div class="quiz-progress">
    <div style="font-size:12px;font-weight:600;color:var(--text2);white-space:nowrap;">Progress</div>
    <div class="quiz-progress-bar"><div class="quiz-progress-fill" id="quizProgress" style="width:0%"></div></div>
    <div class="quiz-score">Score: <span id="quizScore">0</span>/<span id="quizTotal">0</span></div>
    <button class="btn btn-ghost btn-sm" onclick="resetQuiz()">‚Ü∫ Reset</button>
  </div>
  <div id="quizContainer"></div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê PLAYGROUNDS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="section" id="sec-tools">
  <div class="sec-head"><div class="sec-title">Online Tools & Playgrounds</div><div class="sec-desc">Practice with real Kubernetes clusters ‚Äî no local setup required.</div></div>
  <div class="tip-box tip-blue"><span class="tip-icon">üéØ</span><div class="tip-text"><strong>Exam prep strategy:</strong> Use KillerCoda for daily practice labs, killer.sh for the official exam simulator (2 free attempts with exam purchase), and Play with K8s for quick experiments.</div></div>
  <div class="tools-grid" id="toolsGrid"></div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê QUICK REF ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="section" id="sec-quickref">
  <div class="sec-head"><div class="sec-title">‚ö° Quick Reference</div><div class="sec-desc">Aliases, abbreviations, exam domains ‚Äî set these up at the start of every exam session.</div></div>

  <div class="two-col">
    <div>
      <div class="card">
        <div class="card-title">‚ö° Exam Session Setup</div>
        <div class="cmd-code" style="border-radius:8px;">
<span class="hl-comment"># Run at start of EVERY exam session</span>
alias k=kubectl
alias kgp='kubectl get pods'
alias kgs='kubectl get svc'
alias kgd='kubectl get deploy'
alias kgn='kubectl get nodes -o wide'
alias kaf='kubectl apply -f'
alias kdel='kubectl delete --grace-period=0 --force'

source &lt;(kubectl completion bash)
complete -F __start_kubectl k

<span class="hl-comment"># Shortcut exports</span>
export do="--dry-run=client -o yaml"
export now="--grace-period=0 --force"

<span class="hl-comment"># Set default namespace</span>
kubectl config set-context --current --namespace=default
<span class="hl-comment"># Usage: k run nginx --image=nginx $do > pod.yaml</span><button class="copy-btn" onclick="copyCode(event)">Copy</button></div>
      </div>
    </div>
    <div>
      <div class="card">
        <div class="card-title">üìã Resource Abbreviations</div>
        <table class="ref-table" style="margin-bottom:0">
          <tr><th>Short</th><th>Resource</th><th>Short</th><th>Resource</th></tr>
          <tr><td>po</td><td>pods</td><td>svc</td><td>services</td></tr>
          <tr><td>deploy</td><td>deployments</td><td>ns</td><td>namespaces</td></tr>
          <tr><td>rs</td><td>replicasets</td><td>pv</td><td>persistentvolumes</td></tr>
          <tr><td>sts</td><td>statefulsets</td><td>pvc</td><td>persistentvolumeclaims</td></tr>
          <tr><td>ds</td><td>daemonsets</td><td>cm</td><td>configmaps</td></tr>
          <tr><td>ing</td><td>ingresses</td><td>sa</td><td>serviceaccounts</td></tr>
          <tr><td>netpol</td><td>networkpolicies</td><td>sc</td><td>storageclasses</td></tr>
          <tr><td>cj</td><td>cronjobs</td><td>ep</td><td>endpoints</td></tr>
          <tr><td>no</td><td>nodes</td><td>rb</td><td>rolebindings</td></tr>
        </table>
      </div>
    </div>
  </div>

  <div class="card" style="margin-top:16px">
    <div class="card-title">üéØ CKA Exam Domains & Weights (2026)</div>
    <table class="ref-table" style="margin-bottom:0">
      <tr><th>Domain</th><th>Weight</th><th>Key Topics</th><th>Priority</th></tr>
      <tr><td>Troubleshooting</td><td style="color:var(--red);font-weight:700">30%</td><td>Pod failures, node issues, networking, app debugging</td><td>üî¥ Highest</td></tr>
      <tr><td>Cluster Architecture, Installation & Configuration</td><td style="color:var(--orange);font-weight:700">25%</td><td>kubeadm, RBAC, etcd backup/restore, cluster upgrades</td><td>üü† High</td></tr>
      <tr><td>Services & Networking</td><td style="color:var(--orange);font-weight:700">20%</td><td>Services, Ingress, DNS, NetworkPolicy, CoreDNS</td><td>üü† High</td></tr>
      <tr><td>Workloads & Scheduling</td><td style="color:var(--yellow);font-weight:700">15%</td><td>Deployments, rolling updates, taints/affinity, resource limits</td><td>üü° Medium</td></tr>
      <tr><td>Storage</td><td style="color:var(--yellow);font-weight:700">10%</td><td>PV, PVC, StorageClass, volume mounts</td><td>üü° Medium</td></tr>
    </table>
  </div>

  <div class="card" style="margin-top:16px">
    <div class="card-title">‚è±Ô∏è Exam Time Management (2 hours, ~17 questions)</div>
    <table class="ref-table" style="margin-bottom:0">
      <tr><th>Strategy</th><th>Detail</th></tr>
      <tr><td>Switch context first</td><td>Every question starts with a context switch. Do it before anything else.</td></tr>
      <tr><td>Easy questions first</td><td>Flag hard questions, come back. 2-min questions first, save 15+ min ones for later.</td></tr>
      <tr><td>Use imperative commands</td><td>kubectl create/run/expose + --dry-run=client -o yaml is 10x faster than writing YAML</td></tr>
      <tr><td>Use kubectl explain</td><td><code>kubectl explain pod.spec.containers.resources</code> ‚Äî docs without leaving terminal</td></tr>
      <tr><td>Allowed docs</td><td>kubernetes.io/docs, kubernetes.io/blog, helm.sh/docs ‚Äî bookmark key pages before exam</td></tr>
      <tr><td>Verify your answer</td><td>Always run <code>kubectl get &lt;resource&gt;</code> after creating to confirm it's in Running/Bound/Active state</td></tr>
    </table>
  </div>
</div>

<div class="search-empty" id="searchEmpty">
  <div style="font-size:36px;margin-bottom:12px">üîç</div>
  <div>No results for "<span id="searchTerm"></span>"</div>
  <div style="font-size:12px;margin-top:6px;color:var(--text3)">Try different keywords</div>
</div>

<!-- FOOTER (SEO + links) -->
<footer style="background:#0f172a;color:#64748b;padding:32px 24px;margin-top:48px;border-top:1px solid #1e293b;">
  <div style="max-width:1400px;margin:0 auto;">
    <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:28px;margin-bottom:28px;">
      <div>
        <div style="color:#60a5fa;font-weight:800;font-size:15px;margin-bottom:10px;">‚éà K8s Cert Guides</div>
        <p style="font-size:12px;line-height:1.7;">Free interactive Kubernetes certification study tools. Pass the CKA, CKAD, and CKS exams with confidence.</p>
      </div>
      <div>
        <div style="color:#94a3b8;font-weight:700;font-size:11px;text-transform:uppercase;letter-spacing:.1em;margin-bottom:10px;">CKA Sections</div>
        <div style="display:flex;flex-direction:column;gap:5px;">
          <a href="#" onclick="showTab('overview',document.querySelector('.tab'));return false;" style="color:#64748b;text-decoration:none;font-size:12px;" onmouseover="this.style.color='#94a3b8'" onmouseout="this.style.color='#64748b'">Architecture & Components</a>
          <a href="#" onclick="showTab('troubleshoot',null);return false;" style="color:#64748b;text-decoration:none;font-size:12px;" onmouseover="this.style.color='#94a3b8'" onmouseout="this.style.color='#64748b'">Troubleshooting Guide</a>
          <a href="#" onclick="showTab('upgrade',null);return false;" style="color:#64748b;text-decoration:none;font-size:12px;" onmouseover="this.style.color='#94a3b8'" onmouseout="this.style.color='#64748b'">Cluster Upgrade (kubeadm)</a>
          <a href="#" onclick="showTab('rbac',null);return false;" style="color:#64748b;text-decoration:none;font-size:12px;" onmouseover="this.style.color='#94a3b8'" onmouseout="this.style.color='#64748b'">RBAC Reference</a>
          <a href="#" onclick="showTab('quiz',null);return false;" style="color:#64748b;text-decoration:none;font-size:12px;" onmouseover="this.style.color='#94a3b8'" onmouseout="this.style.color='#64748b'">Practice Questions</a>
          <a href="#" onclick="showTab('yaml',null);return false;" style="color:#64748b;text-decoration:none;font-size:12px;" onmouseover="this.style.color='#94a3b8'" onmouseout="this.style.color='#64748b'">YAML Builder</a>
        </div>
      </div>
      <div>
        <div style="color:#94a3b8;font-weight:700;font-size:11px;text-transform:uppercase;letter-spacing:.1em;margin-bottom:10px;">Practice Platforms</div>
        <div style="display:flex;flex-direction:column;gap:5px;">
          <a href="https://killercoda.com/killer-shell-cka" target="_blank" rel="noopener" style="color:#64748b;text-decoration:none;font-size:12px;" onmouseover="this.style.color='#94a3b8'" onmouseout="this.style.color='#64748b'">KillerCoda CKA Labs ‚Üó</a>
          <a href="https://killer.sh" target="_blank" rel="noopener" style="color:#64748b;text-decoration:none;font-size:12px;" onmouseover="this.style.color='#94a3b8'" onmouseout="this.style.color='#64748b'">killer.sh Simulator ‚Üó</a>
          <a href="https://labs.play-with-k8s.com" target="_blank" rel="noopener" style="color:#64748b;text-decoration:none;font-size:12px;" onmouseover="this.style.color='#94a3b8'" onmouseout="this.style.color='#64748b'">Play with Kubernetes ‚Üó</a>
          <a href="https://kubernetes.io/docs/reference/kubectl/cheatsheet/" target="_blank" rel="noopener" style="color:#64748b;text-decoration:none;font-size:12px;" onmouseover="this.style.color='#94a3b8'" onmouseout="this.style.color='#64748b'">kubectl Cheatsheet ‚Üó</a>
          <a href="https://github.com/cncf/curriculum" target="_blank" rel="noopener" style="color:#64748b;text-decoration:none;font-size:12px;" onmouseover="this.style.color='#94a3b8'" onmouseout="this.style.color='#64748b'">Official CKA Curriculum ‚Üó</a>
        </div>
      </div>
      <div>
        <div style="color:#94a3b8;font-weight:700;font-size:11px;text-transform:uppercase;letter-spacing:.1em;margin-bottom:10px;">CKA Exam Domains</div>
        <div style="display:flex;flex-direction:column;gap:5px;font-size:12px;color:#64748b;">
          <span>üî¥ Troubleshooting ‚Äî 30%</span>
          <span>üü† Architecture & Installation ‚Äî 25%</span>
          <span>üü† Services & Networking ‚Äî 20%</span>
          <span>üü° Workloads & Scheduling ‚Äî 15%</span>
          <span>üü° Storage ‚Äî 10%</span>
        </div>
      </div>
    </div>
    <div style="border-top:1px solid #1e293b;padding-top:20px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:12px;">
      <p style="font-size:11px;">¬© 2026 K8s Cert Guides. Free CKA study resource. Not affiliated with CNCF or Linux Foundation.</p>
      <p style="font-size:11px;">Keywords: <span style="color:#475569">CKA exam, Certified Kubernetes Administrator, kubectl commands, kubernetes certification, CKA study guide, kubeadm, etcd backup, RBAC kubernetes</span></p>
    </div>
  </div>
</footer>
<div class="timer-modal" id="timerModal">
  <div class="timer-box">
    <div style="font-size:13px;font-weight:700;color:var(--text2);margin-bottom:4px;">CKA EXAM TIMER</div>
    <div class="timer-label">Simulates 2-hour exam window</div>
    <div class="timer-display" id="timerModalDisplay">2:00:00</div>
    <div class="timer-controls">
      <button class="btn btn-primary" onclick="startTimer()">‚ñ∂ Start</button>
      <button class="btn btn-ghost" onclick="pauseTimer()">‚è∏ Pause</button>
      <button class="btn btn-ghost" onclick="resetTimer()">‚Ü∫ Reset</button>
      <button class="btn btn-ghost" onclick="closeTimer()">‚úï Close</button>
    </div>
  </div>
</div>
</div>

<script>
// ‚îÄ‚îÄ ARCH DETAILS ‚îÄ‚îÄ
const archDetails = {
  apiserver:{icon:'üîå',name:'API Server (kube-apiserver)',badge:'dp-ctrl',badgeText:'Control Plane',desc:'The central nervous system. Every operation ‚Äî kubectl, operators, controllers ‚Äî goes through it. It authenticates (who?), authorizes via RBAC (allowed?), passes admission controllers, then writes to etcd. ONLY component that talks to etcd.',facts:[{l:'Port',v:'6443 (HTTPS)'},{l:'Auth',v:'X.509, Bearer, OIDC, SA tokens'},{l:'Admission',v:'LimitRanger, PodSecurity, MutatingWebhook'},{l:'HA',v:'Multiple replicas behind LB'}]},
  etcd:{icon:'üóÑÔ∏è',name:'etcd',badge:'dp-ctrl',badgeText:'Control Plane',desc:'Distributed key-value store (Raft consensus). Every K8s object lives here. If etcd is lost without backup, all cluster state is gone. Only API Server talks directly to etcd.',facts:[{l:'Ports',v:'2379 client, 2380 peer'},{l:'Consistency',v:'Linearizable (strong)'},{l:'HA',v:'Odd nodes: 3 or 5 for quorum'},{l:'Backup',v:'etcdctl snapshot save ‚Äî automate!'}]},
  scheduler:{icon:'üìÖ',name:'Scheduler',badge:'dp-ctrl',badgeText:'Control Plane',desc:'Watches for unbound pods. Filter phase: removes unviable nodes (CPU, memory, taints, affinity). Score phase: ranks 0‚Äì100. Winning node gets the binding.',facts:[{l:'Filter',v:'Remove unviable nodes'},{l:'Score',v:'Rank 0‚Äì100'},{l:'Plugins',v:'Scheduling Framework for custom logic'},{l:'Custom',v:'Multiple scheduler instances possible'}]},
  controller:{icon:'üîÑ',name:'Controller Manager',badge:'dp-ctrl',badgeText:'Control Plane',desc:'Runs reconciliation loops. Each watches a resource type and reconciles actual ‚Üí desired state. Key controllers: ReplicaSet, Node, Endpoints, Job, CronJob, Namespace.',facts:[{l:'Pattern',v:'Watch ‚Üí Diff ‚Üí Act'},{l:'ReplicaSet',v:'Ensures N pods always run'},{l:'Node ctrl',v:'Evicts pods from dead nodes'},{l:'Extend',v:'Operators add custom controllers'}]},
  ccm:{icon:'‚òÅÔ∏è',name:'Cloud Controller Manager',badge:'dp-ctrl',badgeText:'Control Plane',desc:'Bridges K8s to cloud APIs. Node lifecycle, Route controller (VPC routes), Service controller (cloud LBs for type=LoadBalancer). Only on managed clusters.',facts:[{l:'Node ctrl',v:'Syncs cloud instance metadata'},{l:'Service ctrl',v:'Provisions AWS ELB / GCP LB'},{l:'Route ctrl',v:'Configures VPC routes'},{l:'Only on',v:'EKS, GKE, AKS, etc.'}]},
  kubelet:{icon:'ü§ñ',name:'kubelet',badge:'dp-data',badgeText:'Data Plane',desc:'Node agent on every worker. Receives PodSpecs, calls CRI (containerd) to start containers, runs probes, manages volumes, reports status. Static pods in /etc/kubernetes/manifests/ are also managed here.',facts:[{l:'Port',v:'10250 (HTTPS, Prometheus scrapes)'},{l:'Probes',v:'liveness, readiness, startup'},{l:'CRI',v:'gRPC calls to containerd/CRI-O'},{l:'Static pods',v:'/etc/kubernetes/manifests/'}]},
  kubeproxy:{icon:'üåê',name:'kube-proxy',badge:'dp-data',badgeText:'Data Plane',desc:'Runs on every node. Programs iptables/IPVS rules so Service ClusterIP traffic reaches healthy pods. Traffic doesn\'t flow through kube-proxy ‚Äî it just sets rules.',facts:[{l:'Mode',v:'iptables (default) or IPVS'},{l:'Watches',v:'Service + EndpointSlice'},{l:'Note',v:'Rules only ‚Äî not a proxy'},{l:'Replace',v:'Cilium eBPF kube-proxy replacement'}]},
  cri:{icon:'üì¶',name:'Container Runtime (CRI)',badge:'dp-data',badgeText:'Data Plane',desc:'Actually starts/stops containers. CRI is a gRPC API ‚Äî any compliant runtime works. containerd calls runc to create Linux namespaces + cgroups.',facts:[{l:'Default',v:'containerd (Docker removed v1.24)'},{l:'OCI',v:'runc creates namespaces/cgroups'},{l:'Alternatives',v:'CRI-O, gVisor, Kata'},{l:'Interface',v:'RuntimeService + ImageService'}]},
  cni:{icon:'üï∏Ô∏è',name:'CNI Plugin',badge:'dp-data',badgeText:'Data Plane',desc:'Assigns IP to pods, sets up network namespace. Every pod gets a unique routable IP (flat network). NetworkPolicy only enforced by CNIs that support it.',facts:[{l:'Flannel',v:'VXLAN ‚Äî simple, no NetworkPolicy'},{l:'Calico',v:'BGP + full NetworkPolicy'},{l:'Cilium',v:'eBPF ‚Äî best perf + observability'},{l:'Rule',v:'Pod ‚Üí Pod without NAT'}]},
  pod:{icon:'üü¢',name:'Pod ‚Äî Atomic Unit',badge:'dp-data',badgeText:'Worker Node',desc:'Wraps 1+ containers sharing network namespace (same IP, localhost) and storage volumes. Pods are ephemeral. Deployments manage their lifecycle.',facts:[{l:'Network',v:'Shared ns ‚Äî same IP + localhost'},{l:'Lifecycle',v:'Pending ‚Üí Running ‚Üí Succeeded/Failed'},{l:'Patterns',v:'Init containers, sidecars, ephemeral'},{l:'Note',v:'IPs change on restart ‚Äî use Services'}]},
};

function showArchDetail(key, el) {
  const d = archDetails[key]; if (!d) return;
  document.querySelectorAll('.arch-comp,.worker-node').forEach(c=>c.classList.remove('active-comp'));
  if(el) el.classList.add('active-comp');
  const p = document.getElementById('archDetail');
  p.style.display='block';
  p.innerHTML=`<div class="detail-panel"><div class="dp-header"><span class="dp-icon">${d.icon}</span><div><div class="dp-name">${d.name}</div><span class="dp-badge ${d.badge}">${d.badgeText}</span></div><button class="dp-close" onclick="closeArchDetail()">‚úï</button></div><div class="dp-desc">${d.desc}</div><div class="dp-facts">${d.facts.map(f=>`<div class="dp-fact"><div class="dp-fact-label">${f.l}</div><div class="dp-fact-val">${f.v}</div></div>`).join('')}</div></div>`;
  p.scrollIntoView({behavior:'smooth',block:'nearest'});
}
function closeArchDetail(){document.getElementById('archDetail').style.display='none';document.querySelectorAll('.arch-comp,.worker-node').forEach(c=>c.classList.remove('active-comp'));}

// ‚îÄ‚îÄ TABS ‚îÄ‚îÄ
function showTab(id,el){
  document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));
  document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
  const sec=document.getElementById('sec-'+id); if(sec) sec.classList.add('active');
  if(el) el.classList.add('active');
  document.getElementById('searchInput').value='';
  document.getElementById('searchEmpty').style.display='none';
  document.getElementById('searchStats').textContent='';
  document.querySelectorAll('.category').forEach(c=>c.style.display='');
  document.querySelectorAll('.cmd-card').forEach(c=>c.style.display='');
  document.querySelector('.nav-tabs').style.opacity='1';
}

// ‚îÄ‚îÄ CMD CARDS ‚îÄ‚îÄ
function toggle(card){
  if(event.target.classList.contains('copy-btn')) return;
  card.classList.toggle('expanded');
}
function copyCode(e){
  e.stopPropagation();
  const btn=e.target;
  const text=btn.closest('.cmd-code').innerText.replace(/Copy$/,'').trim();
  navigator.clipboard.writeText(text).then(()=>{btn.textContent='‚úì';btn.classList.add('copied');setTimeout(()=>{btn.textContent='Copy';btn.classList.remove('copied');},1500);});
}

// ‚îÄ‚îÄ UPGRADE STEPS ‚îÄ‚îÄ
function toggleStep(el){el.classList.toggle('open');}

// ‚îÄ‚îÄ SEARCH ‚îÄ‚îÄ
function filterAll(q){
  const lq=q.toLowerCase().trim();
  if(!lq){
    document.querySelectorAll('.cmd-card').forEach(c=>c.style.display='');
    document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));
    document.getElementById('sec-overview').classList.add('active');
    document.querySelectorAll('.tab').forEach((t,i)=>i===0?t.classList.add('active'):t.classList.remove('active'));
    document.querySelectorAll('.category').forEach(c=>c.style.display='');
    document.getElementById('searchEmpty').style.display='none';
    document.getElementById('searchStats').textContent='';
    document.querySelector('.nav-tabs').style.opacity='1';
    return;
  }
  document.querySelector('.nav-tabs').style.opacity='0.5';
  document.querySelectorAll('.section').forEach(s=>s.classList.add('active'));
  let count=0;
  document.querySelectorAll('.cmd-card').forEach(card=>{
    const match=card.innerText.toLowerCase().includes(lq);
    card.style.display=match?'':'none';
    if(match) count++;
  });
  document.querySelectorAll('.category').forEach(cat=>{
    const vis=[...cat.querySelectorAll('.cmd-card')].some(c=>c.style.display!=='none');
    cat.style.display=vis?'':'none';
  });
  document.getElementById('searchEmpty').style.display=count?'none':'block';
  document.getElementById('searchTerm').textContent=q;
  document.getElementById('searchStats').textContent=count?`${count} result${count!==1?'s':''} found`:'';
}

// ‚îÄ‚îÄ YAML BUILDER ‚îÄ‚îÄ
const templates = {
  pod:{title:'Pod',fields:[{k:'name',l:'Pod Name',v:'my-pod'},{k:'ns',l:'Namespace',v:'default'},{k:'image',l:'Image',v:'nginx:1.25'},{k:'port',l:'Container Port',v:'80'},{k:'cpuReq',l:'CPU Request',v:'100m'},{k:'memReq',l:'Memory Request',v:'128Mi'},{k:'cpuLim',l:'CPU Limit',v:'500m'},{k:'memLim',l:'Memory Limit',v:'256Mi'}],gen:f=>`apiVersion: v1
kind: Pod
metadata:
  name: ${f.name}
  namespace: ${f.ns}
  labels:
    app: ${f.name}
spec:
  containers:
  - name: ${f.name}
    image: ${f.image}
    ports:
    - containerPort: ${f.port}
    resources:
      requests:
        cpu: "${f.cpuReq}"
        memory: "${f.memReq}"
      limits:
        cpu: "${f.cpuLim}"
        memory: "${f.memLim}"`},
  deployment:{title:'Deployment',fields:[{k:'name',l:'Deployment Name',v:'my-app'},{k:'ns',l:'Namespace',v:'default'},{k:'image',l:'Image',v:'nginx:1.25'},{k:'replicas',l:'Replicas',v:'3'},{k:'port',l:'Container Port',v:'80'},{k:'cpuReq',l:'CPU Request',v:'100m'},{k:'memLim',l:'Memory Limit',v:'256Mi'},{k:'strategy',l:'Strategy',v:'RollingUpdate'}],gen:f=>`apiVersion: apps/v1
kind: Deployment
metadata:
  name: ${f.name}
  namespace: ${f.ns}
spec:
  replicas: ${f.replicas}
  selector:
    matchLabels:
      app: ${f.name}
  strategy:
    type: ${f.strategy}
    rollingUpdate:
      maxSurge: 1
      maxUnavailable: 0
  template:
    metadata:
      labels:
        app: ${f.name}
    spec:
      containers:
      - name: ${f.name}
        image: ${f.image}
        ports:
        - containerPort: ${f.port}
        resources:
          requests:
            cpu: "${f.cpuReq}"
          limits:
            memory: "${f.memLim}"`},
  service:{title:'Service',fields:[{k:'name',l:'Service Name',v:'my-svc'},{k:'ns',l:'Namespace',v:'default'},{k:'selector',l:'Selector (app=?)',v:'my-app'},{k:'type',l:'Type',v:'ClusterIP'},{k:'port',l:'Service Port',v:'80'},{k:'targetPort',l:'Target Port',v:'8080'},{k:'nodePort',l:'NodePort (if applicable)',v:'30080'}],gen:f=>`apiVersion: v1
kind: Service
metadata:
  name: ${f.name}
  namespace: ${f.ns}
spec:
  type: ${f.type}
  selector:
    app: ${f.selector}
  ports:
  - port: ${f.port}
    targetPort: ${f.targetPort}${f.type==='NodePort'?`\n    nodePort: ${f.nodePort}`:''}`},
  configmap:{title:'ConfigMap',fields:[{k:'name',l:'ConfigMap Name',v:'app-config'},{k:'ns',l:'Namespace',v:'default'},{k:'k1',l:'Key 1',v:'DB_HOST'},{k:'v1',l:'Value 1',v:'postgres'},{k:'k2',l:'Key 2',v:'DB_PORT'},{k:'v2',l:'Value 2',v:'5432'}],gen:f=>`apiVersion: v1
kind: ConfigMap
metadata:
  name: ${f.name}
  namespace: ${f.ns}
data:
  ${f.k1}: "${f.v1}"
  ${f.k2}: "${f.v2}"`},
  secret:{title:'Secret',fields:[{k:'name',l:'Secret Name',v:'db-secret'},{k:'ns',l:'Namespace',v:'default'},{k:'k1',l:'Key 1',v:'password'},{k:'v1',l:'Value 1 (plain text)',v:'mypassword'},{k:'k2',l:'Key 2',v:'username'},{k:'v2',l:'Value 2',v:'admin'}],gen:f=>`apiVersion: v1
kind: Secret
metadata:
  name: ${f.name}
  namespace: ${f.ns}
type: Opaque
stringData:
  ${f.k1}: "${f.v1}"
  ${f.k2}: "${f.v2}"
# Note: stringData auto-encodes to base64`},
  pvc:{title:'PersistentVolumeClaim',fields:[{k:'name',l:'PVC Name',v:'my-pvc'},{k:'ns',l:'Namespace',v:'default'},{k:'storage',l:'Storage Size',v:'1Gi'},{k:'access',l:'Access Mode',v:'ReadWriteOnce'},{k:'sc',l:'StorageClass',v:'standard'}],gen:f=>`apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: ${f.name}
  namespace: ${f.ns}
spec:
  accessModes:
  - ${f.access}
  storageClassName: ${f.sc}
  resources:
    requests:
      storage: ${f.storage}`},
  ingress:{title:'Ingress',fields:[{k:'name',l:'Ingress Name',v:'my-ingress'},{k:'ns',l:'Namespace',v:'default'},{k:'host',l:'Hostname',v:'app.example.com'},{k:'path',l:'Path',v:'/'},{k:'svc',l:'Service Name',v:'my-svc'},{k:'port',l:'Service Port',v:'80'}],gen:f=>`apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: ${f.name}
  namespace: ${f.ns}
  annotations:
    nginx.ingress.kubernetes.io/rewrite-target: /
spec:
  ingressClassName: nginx
  rules:
  - host: ${f.host}
    http:
      paths:
      - path: ${f.path}
        pathType: Prefix
        backend:
          service:
            name: ${f.svc}
            port:
              number: ${f.port}`},
  networkpolicy:{title:'NetworkPolicy',fields:[{k:'name',l:'Policy Name',v:'allow-api-to-db'},{k:'ns',l:'Namespace',v:'default'},{k:'target',l:'Target pod label (app=?)',v:'db'},{k:'source',l:'Allow from (app=?)',v:'api'},{k:'port',l:'Allow Port',v:'5432'}],gen:f=>`apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: ${f.name}
  namespace: ${f.ns}
spec:
  podSelector:
    matchLabels:
      app: ${f.target}
  policyTypes:
  - Ingress
  ingress:
  - from:
    - podSelector:
        matchLabels:
          app: ${f.source}
    ports:
    - protocol: TCP
      port: ${f.port}`},
  role:{title:'Role + RoleBinding',fields:[{k:'roleName',l:'Role Name',v:'pod-reader'},{k:'ns',l:'Namespace',v:'default'},{k:'verbs',l:'Verbs (comma-sep)',v:'get,list,watch'},{k:'resources',l:'Resources (comma-sep)',v:'pods'},{k:'subject',l:'Bind to User',v:'alice'}],gen:f=>`apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  name: ${f.roleName}
  namespace: ${f.ns}
rules:
- apiGroups: [""]
  resources: [${f.resources.split(',').map(r=>`"${r.trim()}"`).join(', ')}]
  verbs: [${f.verbs.split(',').map(v=>`"${v.trim()}"`).join(', ')}]
---
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  name: ${f.subject}-${f.roleName}
  namespace: ${f.ns}
subjects:
- kind: User
  name: ${f.subject}
  apiGroup: rbac.authorization.k8s.io
roleRef:
  kind: Role
  name: ${f.roleName}
  apiGroup: rbac.authorization.k8s.io`},
  cronjob:{title:'CronJob',fields:[{k:'name',l:'CronJob Name',v:'daily-backup'},{k:'ns',l:'Namespace',v:'default'},{k:'schedule',l:'Cron Schedule',v:'0 2 * * *'},{k:'image',l:'Image',v:'busybox'},{k:'cmd',l:'Command',v:'echo hello'}],gen:f=>`apiVersion: batch/v1
kind: CronJob
metadata:
  name: ${f.name}
  namespace: ${f.ns}
spec:
  schedule: "${f.schedule}"
  concurrencyPolicy: Forbid
  successfulJobsHistoryLimit: 3
  failedJobsHistoryLimit: 1
  jobTemplate:
    spec:
      template:
        spec:
          restartPolicy: OnFailure
          containers:
          - name: ${f.name}
            image: ${f.image}
            command: ["/bin/sh", "-c", "${f.cmd}"]`},
};

let currentTemplate='pod';
function loadTemplate(key,btn){
  currentTemplate=key;
  const tpl=templates[key];
  document.getElementById('yamlTemplateTitle').textContent=tpl.title;
  document.querySelectorAll('.yaml-template-btn').forEach(b=>b.classList.remove('active-tpl'));
  if(btn) btn.classList.add('active-tpl');
  const fields=document.getElementById('yamlFields');
  fields.innerHTML=tpl.fields.map(f=>`<div class="yaml-field-row"><label class="yaml-field-label">${f.l}</label><input class="yaml-field-input" id="yf_${f.k}" value="${f.v}" oninput="updateYaml()" placeholder="${f.v}"></div>`).join('');
  updateYaml();
}
function getFields(){
  const tpl=templates[currentTemplate];
  const f={};
  tpl.fields.forEach(field=>{f[field.k]=document.getElementById('yf_'+field.k)?.value||field.v;});
  return f;
}
function updateYaml(){
  const tpl=templates[currentTemplate];
  document.getElementById('yamlOutput').textContent=tpl.gen(getFields());
}
function copyYaml(){
  navigator.clipboard.writeText(document.getElementById('yamlOutput').textContent).then(()=>{
    const btn=document.querySelector('.yaml-toolbar .btn-primary');
    btn.textContent='‚úì Copied!';setTimeout(()=>btn.textContent='üìã Copy YAML',1500);
  });
}
function resetFields(){loadTemplate(currentTemplate,null);}
loadTemplate('pod',null);

// ‚îÄ‚îÄ QUIZ ‚îÄ‚îÄ
const questions=[
  // ‚îÄ‚îÄ TROUBLESHOOTING (30%) ‚îÄ‚îÄ
  {domain:'Troubleshooting',diff:'easy',weight:'30%',
   q:'A pod is stuck in CrashLoopBackOff. Which command gets logs from the previously crashed container instance?',
   scenario:'kubectl get pod webapp\nNAME     READY   STATUS             RESTARTS\nwebapp   0/1     CrashLoopBackOff   7',
   opts:['kubectl logs webapp --last','kubectl logs webapp --previous','kubectl describe pod webapp --crashed','kubectl get events webapp'],
   ans:1,exp:'--previous fetches logs from the last terminated container. Without it you see logs from the current (restarting) instance which may be empty. Always check --previous first for CrashLoopBackOff.',
   cmd:'kubectl logs webapp --previous\nkubectl logs webapp --previous -c <container>  # multi-container'},

  {domain:'Troubleshooting',diff:'med',weight:'30%',
   q:'A Service has been created but curl from another pod returns "connection refused". The endpoints are empty. What is the root cause?',
   scenario:'kubectl get endpoints my-svc\nNAME     ENDPOINTS   AGE\nmy-svc   <none>      5m',
   opts:['The Service port is incorrect','Pod labels do not match the Service selector','The Service type should be NodePort','The pod is in a different cluster'],
   ans:1,exp:'Empty endpoints = selector mismatch. The Service selector must exactly match pod labels (case-sensitive). Check both with kubectl get pods --show-labels and kubectl get svc -o yaml.',
   cmd:'kubectl get pods --show-labels\nkubectl get svc my-svc -o yaml | grep -A5 "selector:"'},

  {domain:'Troubleshooting',diff:'hard',weight:'30%',
   q:'A node shows NotReady. You SSH into the node. What is the FIRST command to run?',
   scenario:'kubectl get nodes\nNAME     STATUS     ROLES\nnode01   NotReady   <none>',
   opts:['kubectl delete node node01 --force','reboot','systemctl status kubelet','journalctl -xe'],
   ans:2,exp:'Check kubelet status first ‚Äî NotReady almost always means kubelet stopped sending heartbeats. Then check journalctl -u kubelet for the actual error (cert expired, containerd down, disk pressure).',
   cmd:'systemctl status kubelet\njournalctl -u kubelet --since "10 min ago" | tail -30'},

  {domain:'Troubleshooting',diff:'med',weight:'30%',
   q:'A pod is in Pending state for 10 minutes. kubectl describe shows "0/3 nodes are available: 3 Insufficient cpu". What do you do?',
   scenario:'Events:\n  Warning  FailedScheduling  10m\n  0/3 nodes available: 3 Insufficient cpu.',
   opts:['Delete and recreate the pod','Reduce the pod\'s CPU requests or add a node','Restart the scheduler','Add a toleration to the pod'],
   ans:1,exp:'The scheduler cannot find a node with enough CPU. Either reduce the resource requests in the pod spec, add capacity to the cluster, or remove other pods consuming CPU. Adding tolerations won\'t help ‚Äî this is a resource issue, not a taint issue.',
   cmd:'kubectl describe pod <pod> | grep -A5 Events\nkubectl top nodes\nkubectl edit deployment <deploy>  # reduce cpu requests'},

  {domain:'Troubleshooting',diff:'hard',weight:'30%',
   q:'The kube-apiserver pod is not running. You cannot use kubectl. How do you fix a broken static pod manifest?',
   scenario:'# kubectl is not responding\n# systemctl status kubelet shows: running\n# Need to fix the apiserver',
   opts:['Reboot the control plane node','Edit /etc/kubernetes/manifests/kube-apiserver.yaml directly','Run kubeadm init again','Use etcdctl to restart apiserver'],
   ans:1,exp:'Control plane components run as static pods managed by kubelet from /etc/kubernetes/manifests/. Edit the manifest directly ‚Äî kubelet auto-detects the change and restarts the pod. No kubectl needed.',
   cmd:'vi /etc/kubernetes/manifests/kube-apiserver.yaml\n# Fix the error (wrong flag, bad path, wrong port)\n# kubelet auto-restarts the pod within ~30s\nwatch crictl ps  # monitor restart without kubectl'},

  {domain:'Troubleshooting',diff:'med',weight:'30%',
   q:'A pod keeps OOMKilling every few hours. kubectl top shows it using 480Mi with a 512Mi limit. What is the correct fix?',
   scenario:'kubectl describe pod app\n  Last State: Terminated\n  Reason: OOMKilled\n  Exit Code: 137',
   opts:['Restart the pod','Increase the memory limit in the Deployment','Add a liveness probe to restart it faster','Change the pod QoS class to BestEffort'],
   ans:1,exp:'Exit code 137 = OOMKilled. The container exceeded its memory limit. Increase limits.memory in the Deployment spec. Also investigate memory leaks in the app. BestEffort QoS (no limits) would make it worse, not better.',
   cmd:'kubectl set resources deployment myapp --limits=memory=1Gi\n# or\nkubectl edit deployment myapp  # update resources.limits.memory'},

  // ‚îÄ‚îÄ ARCHITECTURE (25%) ‚îÄ‚îÄ
  {domain:'Architecture',diff:'hard',weight:'25%',
   q:'You are upgrading a cluster from v1.28 to v1.29. What is the correct sequence of steps?',
   scenario:'Current: controlplane=v1.28, node01=v1.28, node02=v1.28\nTarget: all nodes v1.29',
   opts:['Upgrade all nodes simultaneously','Upgrade workers first, then control plane','Backup etcd ‚Üí upgrade kubeadm ‚Üí upgrade control plane ‚Üí upgrade workers one by one','Just run kubeadm upgrade apply on every node'],
   ans:2,exp:'Full sequence: 1) Backup etcd, 2) Upgrade kubeadm on control plane, 3) kubeadm upgrade apply v1.29.0, 4) Upgrade kubelet+kubectl on control plane, 5) For each worker: drain ‚Üí upgrade kubeadm+kubelet+kubectl ‚Üí kubeadm upgrade node ‚Üí uncordon. Never skip minor versions.',
   cmd:'ETCDCTL_API=3 etcdctl snapshot save /opt/backup.db ...\nkubeadm upgrade apply v1.29.0\nkubectl drain node01 --ignore-daemonsets\n# on node01: apt-get install kubeadm=1.29.0-1.1 kubelet=1.29.0-1.1\nkubeadm upgrade node && systemctl restart kubelet\nkubectl uncordon node01'},

  {domain:'Architecture',diff:'hard',weight:'25%',
   q:'After a disaster, you need to restore the cluster from an etcd snapshot at /opt/snapshot.db. What is the correct restore command and next step?',
   scenario:'# Cluster is down\n# Snapshot exists at /opt/snapshot.db\n# etcd data-dir is /var/lib/etcd',
   opts:['kubectl restore etcd --from=/opt/snapshot.db','etcdctl snapshot restore /opt/snapshot.db --data-dir=/var/lib/etcd-restore, then update etcd manifest','kubeadm reset && kubeadm init','cp /opt/snapshot.db /var/lib/etcd/member/snap/db'],
   ans:1,exp:'Restore to a new data-dir, then edit /etc/kubernetes/manifests/etcd.yaml to point --data-dir to the new location. Also update the hostPath volume mounts. kubelet will restart etcd automatically.',
   cmd:'ETCDCTL_API=3 etcdctl snapshot restore /opt/snapshot.db --data-dir=/var/lib/etcd-restore\nvi /etc/kubernetes/manifests/etcd.yaml\n# Change --data-dir=/var/lib/etcd  ‚Üí  /var/lib/etcd-restore\n# Update volumes.hostPath.path too'},

  {domain:'Architecture',diff:'med',weight:'25%',
   q:'You need to give serviceaccount "pipeline" in namespace "ci" the ability to list and get pods in namespace "ci" only. Which resources do you create?',
   scenario:'# SA pipeline exists in namespace ci\n# Needs: get, list pods in ci namespace only',
   opts:['ClusterRole + ClusterRoleBinding','Role in ci + RoleBinding in ci referencing the SA','ClusterRole + RoleBinding in ci','PodSecurityPolicy + ServiceAccount binding'],
   ans:1,exp:'Namespace-scoped permissions = Role (not ClusterRole) + RoleBinding, both in the same namespace. Use ClusterRole only for cluster-scoped resources (nodes, PVs) or when the same permissions are needed in many namespaces.',
   cmd:'kubectl create role pod-reader --verb=get,list --resource=pods -n ci\nkubectl create rolebinding pipeline-pod-reader --role=pod-reader --serviceaccount=ci:pipeline -n ci\nkubectl auth can-i list pods --as=system:serviceaccount:ci:pipeline -n ci'},

  // ‚îÄ‚îÄ SERVICES & NETWORKING (20%) ‚îÄ‚îÄ
  {domain:'Services & Networking',diff:'med',weight:'20%',
   q:'You need to block ALL ingress to pods in namespace "prod" except from pods labeled app=monitor. How do you do this?',
   scenario:'# namespace: prod\n# Allow only: pods with app=monitor\n# Block: everything else',
   opts:['Add a taint to all prod pods','Create a NetworkPolicy with podSelector:{} and ingress from podSelector:{app:monitor}','Configure kube-proxy iptables rules manually','Create a Service with restricted selectors'],
   ans:1,exp:'NetworkPolicy with empty podSelector {} selects ALL pods in the namespace. The ingress rule allows only from pods labeled app=monitor. Any ingress not explicitly allowed is denied once a NetworkPolicy applies.',
   cmd:'# Apply this NetworkPolicy:\napiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: allow-monitor-only\n  namespace: prod\nspec:\n  podSelector: {}\n  policyTypes: [Ingress]\n  ingress:\n  - from:\n    - podSelector:\n        matchLabels: {app: monitor}'},

  {domain:'Services & Networking',diff:'hard',weight:'20%',
   q:'A pod cannot resolve "my-svc" by DNS. nslookup my-svc.default.svc.cluster.local also fails. CoreDNS pods are Running. What do you check?',
   scenario:'kubectl exec -it debug -- nslookup my-svc\nServer: 10.96.0.10\nAddress: 10.96.0.10#53\n\n** server can\'t find my-svc: NXDOMAIN',
   opts:['Restart all pods in the namespace','Check if a NetworkPolicy blocks UDP/TCP 53 to kube-dns, and verify /etc/resolv.conf','Delete and recreate CoreDNS','Change the service to NodePort'],
   ans:1,exp:'If CoreDNS is running but DNS fails: 1) Check NetworkPolicy blocking port 53 to kube-dns, 2) Check /etc/resolv.conf in the pod for correct nameserver (should be kube-dns ClusterIP ~10.96.0.10), 3) Check CoreDNS logs for errors.',
   cmd:'kubectl exec -it debug -- cat /etc/resolv.conf\nkubectl logs -n kube-system -l k8s-app=kube-dns\nkubectl get svc kube-dns -n kube-system\nkubectl get networkpolicy -A'},

  {domain:'Services & Networking',diff:'med',weight:'20%',
   q:'You need to expose a Deployment "frontend" on port 80, accessible from outside the cluster via a cloud load balancer. What is the correct Service type?',
   scenario:'# Deployment: frontend, containerPort: 3000\n# Requirement: external access via cloud LB\n# Environment: EKS / GKE / AKS',
   opts:['ClusterIP ‚Äî internal only','NodePort ‚Äî requires manual firewall rules','LoadBalancer ‚Äî provisions cloud LB automatically','ExternalName ‚Äî DNS alias only'],
   ans:2,exp:'LoadBalancer type triggers the Cloud Controller Manager to provision a cloud load balancer (AWS ELB, GCP LB, Azure LB) automatically. The EXTERNAL-IP field is populated with the LB\'s IP/hostname once ready.',
   cmd:'kubectl expose deployment frontend --port=80 --target-port=3000 --type=LoadBalancer\nkubectl get svc frontend -w  # watch for EXTERNAL-IP to be assigned'},

  // ‚îÄ‚îÄ WORKLOADS (15%) ‚îÄ‚îÄ
  {domain:'Workloads',diff:'easy',weight:'15%',
   q:'How do you generate a Deployment YAML template without creating the resource? (Most important exam technique)',
   scenario:'# Need YAML template to edit before applying\n# Must not hit the API server',
   opts:['kubectl create deployment myapp --image=nginx --output=yaml','kubectl create deployment myapp --image=nginx --dry-run=client -o yaml > deploy.yaml','kubectl get deployment myapp -o yaml > deploy.yaml','kubectl explain deployment.spec > deploy.yaml'],
   ans:1,exp:'--dry-run=client -o yaml generates valid YAML locally without contacting the API Server. This is the single most important exam shortcut. Set export do="--dry-run=client -o yaml" at exam start.',
   cmd:'kubectl create deployment myapp --image=nginx:1.25 --replicas=3 --dry-run=client -o yaml > deploy.yaml\n# Edit deploy.yaml to add resources, probes, etc.\nkubectl apply -f deploy.yaml'},

  {domain:'Workloads',diff:'med',weight:'15%',
   q:'A Deployment rollout is failing. Half the new pods are in CrashLoopBackOff. How do you roll back to the previous version immediately?',
   scenario:'kubectl rollout status deployment/myapp\nWaiting for deployment "myapp" rollout to finish:\n3 out of 6 new replicas have been updated...',
   opts:['kubectl delete deployment myapp && kubectl apply -f old.yaml','kubectl rollout undo deployment/myapp','kubectl scale deployment myapp --replicas=0','kubectl set image deployment/myapp nginx=nginx:previous'],
   ans:1,exp:'kubectl rollout undo immediately rolls back to the previous ReplicaSet. Use --to-revision=N for a specific version. Check history first with kubectl rollout history deployment/myapp.',
   cmd:'kubectl rollout history deployment/myapp\nkubectl rollout undo deployment/myapp\n# or to specific revision:\nkubectl rollout undo deployment/myapp --to-revision=2\nkubectl rollout status deployment/myapp'},

  {domain:'Workloads',diff:'hard',weight:'15%',
   q:'You need a pod to only schedule on nodes labeled "disktype=ssd" AND not on nodes tainted "gpu=true:NoSchedule". What spec do you add?',
   scenario:'# Node labels: disktype=ssd exists on 2 nodes\n# Node taint: gpu=true:NoSchedule on 1 node\n# Pod must: target ssd nodes, avoid gpu node',
   opts:['Add a taint to the pod','Add nodeSelector for disktype=ssd and a toleration for gpu=true:NoSchedule','Add nodeAffinity required for disktype=ssd ‚Äî no toleration needed','Add podAffinity referencing the ssd nodes'],
   ans:1,exp:'nodeSelector or nodeAffinity handles the label targeting. Without a toleration for gpu=true:NoSchedule, the pod already can\'t go to GPU nodes ‚Äî but if you add the toleration you\'d need to be careful. For strict avoidance without toleration, nodeSelector alone is sufficient. Adding a toleration would make the GPU node schedulable.',
   cmd:'spec:\n  nodeSelector:\n    disktype: ssd\n  # No toleration needed ‚Äî tainted nodes are already avoided\n  # Only add toleration if you WANT to allow scheduling on tainted nodes'},

  // ‚îÄ‚îÄ STORAGE (10%) ‚îÄ‚îÄ
  {domain:'Storage',diff:'med',weight:'10%',
   q:'A PVC is stuck in Pending. kubectl describe shows "no persistent volumes available for this claim and no storage class is set". What is the fix?',
   scenario:'kubectl get pvc my-pvc\nNAME     STATUS    VOLUME   CAPACITY\nmy-pvc   Pending   <none>   <none>',
   opts:['Delete the PVC and try again','Either create a matching PV manually or add storageClassName to the PVC','Add more nodes to the cluster','Change the PVC accessMode to ReadWriteMany'],
   ans:1,exp:'No storageClassName = static provisioning mode. K8s looks for a pre-created PV matching size and accessMode. Fix: either create a PV manually, or add storageClassName to trigger dynamic provisioning via a StorageClass.',
   cmd:'# Option 1: create matching PV\nkubectl apply -f pv.yaml  # with matching capacity/accessMode\n# Option 2: add storageClassName to PVC\nkubectl patch pvc my-pvc -p \'{"spec":{"storageClassName":"standard"}}\'\n# Check:\nkubectl get pv,pvc'},

  {domain:'Storage',diff:'hard',weight:'10%',
   q:'You need a pod to have a volume shared between two containers (app + log-shipper) that is lost when the pod restarts. Which volume type?',
   scenario:'# Two containers in one pod\n# Share /var/log between them\n# Data does NOT need to survive pod restart',
   opts:['PersistentVolumeClaim with RWX','emptyDir ‚Äî ephemeral, shared within pod lifetime','hostPath ‚Äî node-level storage','configMap mounted as volume'],
   ans:1,exp:'emptyDir is created when the pod starts and deleted when it dies. It is shared between all containers in the pod ‚Äî perfect for log sharing, caches, and scratch space. PVC would survive pod restart (not needed here) and requires provisioning.',
   cmd:'volumes:\n- name: shared-logs\n  emptyDir: {}\ncontainers:\n- name: app\n  volumeMounts:\n  - mountPath: /var/log\n    name: shared-logs\n- name: log-shipper\n  volumeMounts:\n  - mountPath: /var/log\n    name: shared-logs'},
];

let scores={correct:0,answered:0};
function renderQuiz(){
  const c=document.getElementById('quizContainer');
  // Group by domain
  const domains=[...new Set(questions.map(q=>q.domain))];
  let html='';
  domains.forEach(domain=>{
    const dqs=questions.map((q,i)=>({...q,i})).filter(q=>q.domain===domain);
    const wt=dqs[0].weight;
    html+=`<div style="margin-bottom:28px;">
      <div style="display:flex;align-items:center;gap:10px;margin-bottom:12px;padding-bottom:8px;border-bottom:2px solid var(--border);">
        <span style="font-size:14px;font-weight:700;">${domain}</span>
        <span style="font-size:11px;font-weight:700;padding:2px 9px;border-radius:4px;background:var(--blue-l);color:var(--blue);border:1px solid var(--blue-b);">Exam weight: ${wt}</span>
        <span style="font-size:11px;color:var(--text3);margin-left:auto;">${dqs.length} question${dqs.length!==1?'s':''}</span>
      </div>`;
    dqs.forEach(q=>{
      html+=`<div class="question-card" id="qcard${q.i}">
        <div class="q-meta">
          <span class="q-num">Q${q.i+1}</span>
          <span class="q-${q.diff==='hard'?'hard':q.diff==='med'?'med':'easy'}">${q.diff==='hard'?'üî¥ Hard':q.diff==='med'?'üü° Medium':'üü¢ Easy'}</span>
        </div>
        <div class="q-text">${q.q}</div>
        ${q.scenario?`<div class="q-scenario">${q.scenario}</div>`:''}
        <div class="q-options">
          ${q.opts.map((o,j)=>`<button class="q-option" id="qo${q.i}_${j}" onclick="selectAnswer(${q.i},${j})">${String.fromCharCode(65+j)}. ${o}</button>`).join('')}
        </div>
        <div class="q-explanation" id="qexp${q.i}">
          <div class="q-exp-title">üí° Explanation</div>
          <div class="q-exp-text">${q.exp}</div>
          <code class="q-exp-cmd">${q.cmd}</code>
        </div>
      </div>`;
    });
    html+='</div>';
  });
  c.innerHTML=html;
  document.getElementById('quizTotal').textContent=questions.length;
  document.getElementById('quizProgress').style.width='0%';
}

function selectAnswer(qi,oi){
  const q=questions[qi];
  const opts=document.querySelectorAll(`[id^="qo${qi}_"]`);
  opts.forEach(o=>o.disabled=true);
  if(!document.getElementById(`qo${qi}_0`).dataset.answered){
    opts.forEach(o=>o.dataset.answered='true');
    scores.answered++;
    if(oi===q.ans){scores.correct++;opts[oi].classList.add('correct');}
    else{opts[oi].classList.add('wrong');opts[q.ans].classList.add('reveal');}
    document.getElementById(`qexp${qi}`).classList.add('show');
    document.getElementById('quizScore').textContent=scores.correct;
    document.getElementById('quizProgress').style.width=`${(scores.answered/questions.length)*100}%`;
  }
}

function resetQuiz(){scores={correct:0,answered:0};document.getElementById('quizScore').textContent='0';document.getElementById('quizProgress').style.width='0%';renderQuiz();}
renderQuiz();

// ‚îÄ‚îÄ TOOLS ‚îÄ‚îÄ
const tools=[
  {name:'KillerCoda CKA Labs',logo:'üéØ',bg:'#fef2f2',tag:'Free','tag-class':'tool-free',url:'https://killercoda.com/killer-shell-cka',desc:'The best free CKA practice platform. Real browser-based K8s cluster, 40+ scenario labs that closely mirror the actual exam. Zero setup ‚Äî just open and start.',features:['Real K8s in browser','40+ CKA scenarios','Instant terminal','Auto-graded tasks'],rating:'‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ',cta:'Start practicing ‚Üí'},
  {name:'killer.sh Simulator',logo:'üíÄ',bg:'#fff7ed',tag:'2 free with exam','tag-class':'tool-paid',url:'https://killer.sh',desc:'The OFFICIAL CKA exam simulator by the same team that creates the exam. Deliberately harder than the real test. Get 2 free sessions when you buy the CKA exam from Linux Foundation.',features:['Official simulator','Harder than real exam','2 sessions included','Full solutions + score'],rating:'‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ',cta:'Get with CKA exam ‚Üí'},
  {name:'Play with Kubernetes',logo:'üß™',bg:'#eff6ff',tag:'Free','tag-class':'tool-free',url:'https://labs.play-with-k8s.com',desc:'Instant 4-hour multi-node K8s playground from Docker. Spin up full clusters in seconds with bootstrap scripts. Great for quickly testing commands and manifests.',features:['Multi-node cluster','4-hour sessions','Docker account needed','Bootstrap scripts'],rating:'‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ',cta:'Open playground ‚Üí'},
  {name:'Kubernetes Docs',logo:'üìñ',bg:'#f0fdf4',tag:'Allowed in exam!','tag-class':'tool-free',url:'https://kubernetes.io/docs/reference/kubectl/cheatsheet/',desc:'The kubectl cheatsheet page is allowed during the exam. Bookmark it now! The full K8s docs, kubernetes.io/blog, and helm.sh/docs are the only external sites permitted.',features:['‚úÖ Exam-allowed','kubectl cheatsheet','API reference','Concepts + Tasks'],rating:'‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ',cta:'Bookmark now ‚Üí'},
];

function renderTools(){
  document.getElementById('toolsGrid').innerHTML=tools.map(t=>`
    <a class="tool-card" href="${t.url}" target="_blank">
      <div class="tool-header">
        <div class="tool-logo" style="background:${t.bg}">${t.logo}</div>
        <div><div class="tool-name">${t.name}</div><span class="tool-tag ${t['tag-class']}">${t.tag}</span></div>
      </div>
      <div class="tool-desc">${t.desc}</div>
      <div class="tool-features">${t.features.map(f=>`<span class="tool-feature">${f}</span>`).join('')}</div>
      <div class="tool-cta">
        <span class="tool-link">${t.cta} ‚Üó</span>
        <span class="tool-rating">${t.rating}</span>
      </div>
    </a>`).join('');
}
renderTools();

// ‚îÄ‚îÄ EXAM TIMER ‚îÄ‚îÄ
let timerInterval=null,timerSeconds=7200,timerRunning=false;
function openTimer(){document.getElementById('timerModal').classList.add('show');}
function closeTimer(){document.getElementById('timerModal').classList.remove('show');}
function startTimer(){
  if(timerRunning) return;
  timerRunning=true;
  document.getElementById('timerDot').classList.add('active');
  document.getElementById('timerBtn').classList.add('running');
  timerInterval=setInterval(()=>{
    timerSeconds--;
    if(timerSeconds<=0){clearInterval(timerInterval);timerRunning=false;timerSeconds=0;}
    updateTimerDisplay();
  },1000);
}
function pauseTimer(){clearInterval(timerInterval);timerRunning=false;document.getElementById('timerDot').classList.remove('active');document.getElementById('timerBtn').classList.remove('running');}
function resetTimer(){pauseTimer();timerSeconds=7200;updateTimerDisplay();}
function updateTimerDisplay(){
  const h=Math.floor(timerSeconds/3600),m=Math.floor((timerSeconds%3600)/60),s=timerSeconds%60;
  const str=`${h}:${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
  document.getElementById('timerDisplay').textContent=str;
  document.getElementById('timerModalDisplay').textContent=str;
  const d=document.getElementById('timerModalDisplay');
  if(timerSeconds<600) d.className='timer-display critical';
  else if(timerSeconds<1800) d.className='timer-display warning';
  else d.className='timer-display';
}
document.getElementById('timerModal').addEventListener('click',e=>{if(e.target===document.getElementById('timerModal')) closeTimer();});
</script>

  <!-- Comments -->
  <section class="comments-section" id="comments" aria-label="Comments" style="max-width:800px;margin:2rem auto;padding:2rem 1rem;border-top:1px solid var(--border);">
    <h2 class="comments-title" style="font-size:1rem;font-weight:600;margin:0 0 1rem;">Comments</h2>
    <script src="https://utteranc.es/client.js"
            repo="SKCloudOps/k8s"
            issue-term="pathname"
            theme="github-light"
            crossorigin="anonymous"
            async>
    </script>
  </section>

</body>
</html>
